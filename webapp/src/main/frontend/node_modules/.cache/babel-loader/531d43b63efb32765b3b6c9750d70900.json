{"ast":null,"code":"import * as React from 'react';\nimport { useMemo } from 'react';\nimport { QueryClientProvider, QueryClient } from 'react-query';\nimport { AdminRouter } from '../routing';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider, defaultDataProvider } from '../dataProvider';\nimport { StoreContextProvider, memoryStore } from '../store';\nimport { PreferencesEditorContextProvider } from '../preferences/PreferencesEditorContextProvider';\nimport { I18nContextProvider } from '../i18n';\nimport { ResourceDefinitionContextProvider } from './ResourceDefinitionContext';\nimport { NotificationContextProvider } from '../notification';\nvar defaultStore = memoryStore();\nexport var CoreAdminContext = function (props) {\n  var authProvider = props.authProvider,\n    basename = props.basename,\n    _a = props.dataProvider,\n    dataProvider = _a === void 0 ? defaultDataProvider : _a,\n    i18nProvider = props.i18nProvider,\n    _b = props.store,\n    store = _b === void 0 ? defaultStore : _b,\n    children = props.children,\n    history = props.history,\n    queryClient = props.queryClient;\n  if (!dataProvider) {\n    throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n  }\n  var finalQueryClient = useMemo(function () {\n    return queryClient || new QueryClient();\n  }, [queryClient]);\n  var finalAuthProvider = useMemo(function () {\n    return authProvider instanceof Function ? convertLegacyAuthProvider(authProvider) : authProvider;\n  }, [authProvider]);\n  var finalDataProvider = useMemo(function () {\n    return dataProvider instanceof Function ? convertLegacyDataProvider(dataProvider) : dataProvider;\n  }, [dataProvider]);\n  return React.createElement(AuthContext.Provider, {\n    value: finalAuthProvider\n  }, React.createElement(DataProviderContext.Provider, {\n    value: finalDataProvider\n  }, React.createElement(StoreContextProvider, {\n    value: store\n  }, React.createElement(PreferencesEditorContextProvider, null, React.createElement(QueryClientProvider, {\n    client: finalQueryClient\n  }, React.createElement(AdminRouter, {\n    history: history,\n    basename: basename\n  }, React.createElement(I18nContextProvider, {\n    value: i18nProvider\n  }, React.createElement(NotificationContextProvider, null, React.createElement(ResourceDefinitionContextProvider, null, children)))))))));\n};","map":{"version":3,"names":["React","useMemo","QueryClientProvider","QueryClient","AdminRouter","AuthContext","convertLegacyAuthProvider","DataProviderContext","convertLegacyDataProvider","defaultDataProvider","StoreContextProvider","memoryStore","PreferencesEditorContextProvider","I18nContextProvider","ResourceDefinitionContextProvider","NotificationContextProvider","defaultStore","CoreAdminContext","props","authProvider","basename","_a","dataProvider","i18nProvider","_b","store","children","history","queryClient","Error","finalQueryClient","finalAuthProvider","Function","finalDataProvider","createElement","Provider","value","client"],"sources":["../../../src/core/CoreAdminContext.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,mBAAmB,EAAEC,WAAW,QAAQ,aAAa;AAG9D,SAASC,WAAW,QAAQ,YAAY;AACxC,SAASC,WAAW,EAAEC,yBAAyB,QAAQ,SAAS;AAChE,SACIC,mBAAmB,EACnBC,yBAAyB,EACzBC,mBAAmB,QAChB,iBAAiB;AACxB,SAASC,oBAAoB,EAASC,WAAW,QAAQ,UAAU;AACnE,SAASC,gCAAgC,QAAQ,iDAAiD;AAClG,SAASC,mBAAmB,QAAQ,SAAS;AAC7C,SAASC,iCAAiC,QAAQ,6BAA6B;AAC/E,SAASC,2BAA2B,QAAQ,iBAAiB;AAW7D,IAAMC,YAAY,GAAGL,WAAW,EAAE;AAmJlC,OAAO,IAAMM,gBAAgB,GAAG,SAAAA,CAACC,KAA4B;EAErD,IAAAC,YAAY,GAQZD,KAAK,CAAAC,YARO;IACZC,QAAQ,GAORF,KAAK,CAAAE,QAPG;IACRC,EAAA,GAMAH,KAAK,CAAAI,YAN6B;IAAlCA,YAAY,GAAAD,EAAA,cAAGZ,mBAAmB,GAAAY,EAAA;IAClCE,YAAY,GAKZL,KAAK,CAAAK,YALO;IACZC,EAAA,GAIAN,KAAK,CAAAO,KAJe;IAApBA,KAAK,GAAAD,EAAA,cAAGR,YAAY,GAAAQ,EAAA;IACpBE,QAAQ,GAGRR,KAAK,CAAAQ,QAHG;IACRC,OAAO,GAEPT,KAAK,CAAAS,OAFE;IACPC,WAAW,GACXV,KAAK,CAAAU,WADM;EAGf,IAAI,CAACN,YAAY,EAAE;IACf,MAAM,IAAIO,KAAK,CAAC,yFACoC,CAAC;;EAGzD,IAAMC,gBAAgB,GAAG7B,OAAO,CAAC;IAAM,OAAA2B,WAAW,IAAI,IAAIzB,WAAW,EAAE;EAAhC,CAAgC,EAAE,CACrEyB,WAAW,CACd,CAAC;EAEF,IAAMG,iBAAiB,GAAG9B,OAAO,CAC7B;IACI,OAAAkB,YAAY,YAAYa,QAAQ,GAC1B1B,yBAAyB,CAACa,YAAY,CAAC,GACvCA,YAAY;EAFlB,CAEkB,EACtB,CAACA,YAAY,CAAC,CACjB;EAED,IAAMc,iBAAiB,GAAGhC,OAAO,CAC7B;IACI,OAAAqB,YAAY,YAAYU,QAAQ,GAC1BxB,yBAAyB,CAACc,YAAY,CAAC,GACvCA,YAAY;EAFlB,CAEkB,EACtB,CAACA,YAAY,CAAC,CACjB;EAED,OACItB,KAAA,CAAAkC,aAAA,CAAC7B,WAAW,CAAC8B,QAAQ;IAACC,KAAK,EAAEL;EAAiB,GAC1C/B,KAAA,CAAAkC,aAAA,CAAC3B,mBAAmB,CAAC4B,QAAQ;IAACC,KAAK,EAAEH;EAAiB,GAClDjC,KAAA,CAAAkC,aAAA,CAACxB,oBAAoB;IAAC0B,KAAK,EAAEX;EAAK,GAC9BzB,KAAA,CAAAkC,aAAA,CAACtB,gCAAgC,QAC7BZ,KAAA,CAAAkC,aAAA,CAAChC,mBAAmB;IAACmC,MAAM,EAAEP;EAAgB,GACzC9B,KAAA,CAAAkC,aAAA,CAAC9B,WAAW;IAACuB,OAAO,EAAEA,OAAO;IAAEP,QAAQ,EAAEA;EAAQ,GAC7CpB,KAAA,CAAAkC,aAAA,CAACrB,mBAAmB;IAACuB,KAAK,EAAEb;EAAY,GACpCvB,KAAA,CAAAkC,aAAA,CAACnB,2BAA2B,QACxBf,KAAA,CAAAkC,aAAA,CAACpB,iCAAiC,QAC7BY,QAAQ,CACuB,CACV,CACZ,CACZ,CACI,CACS,CAChB,CACI,CACZ;AAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}