{"ast":null,"code":"import*as React from\"react\";import RestartAltIcon from'@mui/icons-material/RestartAlt';import SettingsSuggestIcon from'@mui/icons-material/SettingsSuggest';import{Box,Card,CardContent,Grid,IconButton,Skeleton}from'@mui/material';import{useState}from'react';import{AutocompleteArrayInput,DateTimeInput,FormDataConsumer,ReferenceArrayInput,SaveButton,SimpleForm,Toolbar,required,useLocaleState}from'react-admin';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EmployeeSummaryList(){// State variable to store the source URL of the PDF file\nconst[pdfSource,setPdfSource]=useState('');const[locale,setLocale]=useLocaleState();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Card,{sx:{overflowY:\"auto\",height:\"85vh\",marginTop:\"10px\"},children:/*#__PURE__*/_jsx(CardContent,{sx:{pt:1},children:/*#__PURE__*/_jsx(SimpleForm,{onSubmit:data=>{let url=`../api/event/print?locale=${locale}&start=${data.start.toISOString()}&end=${data.end.toISOString()}`;if(data.employee&&data.employee[0]){url+=`&employees=${data.employee.join(\",\")}`;}setPdfSource(url);},toolbar:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(SaveButton,{label:\"Generate\",icon:/*#__PURE__*/_jsx(SettingsSuggestIcon,{})}),/*#__PURE__*/_jsx(IconButton,{sx:{marginLeft:\"auto\"},\"aria-label\":\"delete\",onClick:()=>{//debugger;\n},children:/*#__PURE__*/_jsx(RestartAltIcon,{})})]}),children:/*#__PURE__*/_jsx(FormDataConsumer,{children:_ref=>{let{formData,...rest}=_ref;return/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(DateTimeInput,{source:\"start\",alwaysOn:true,fullWidth:true,validate:required()})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(DateTimeInput,{source:\"end\",alwaysOn:true,fullWidth:true,validate:required()})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(ReferenceArrayInput,{source:\"employee\",reference:\"employee\",label:\"Employee\",children:/*#__PURE__*/_jsx(AutocompleteArrayInput,{optionText:\"fullname\",filterToQuery:string=>({fullname:{ilike:`${string}`}})})})})]})});}})})})})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:8,marginTop:\"10px\",children:[pdfSource&&/*#__PURE__*/_jsx(\"iframe\",{src:pdfSource,width:\"100%\",height:\"100%\"}),!pdfSource&&/*#__PURE__*/_jsx(Skeleton,{variant:\"rounded\",width:\"100%\",height:\"100%\"})]})]})});};","map":{"version":3,"names":["React","RestartAltIcon","SettingsSuggestIcon","Box","Card","CardContent","Grid","IconButton","Skeleton","useState","AutocompleteArrayInput","DateTimeInput","FormDataConsumer","ReferenceArrayInput","SaveButton","SimpleForm","Toolbar","required","useLocaleState","jsx","_jsx","jsxs","_jsxs","EmployeeSummaryList","pdfSource","setPdfSource","locale","setLocale","children","container","spacing","item","xs","sx","overflowY","height","marginTop","pt","onSubmit","data","url","start","toISOString","end","employee","join","toolbar","label","icon","marginLeft","onClick","_ref","formData","rest","flexGrow","source","alwaysOn","fullWidth","validate","reference","optionText","filterToQuery","string","fullname","ilike","src","width","variant"],"sources":["/home/agrima/Desktop/curr-projects/employee-shift-scheduler/webapp/src/main/frontend/src/views/eventsummary.tsx"],"sourcesContent":["import * as React from \"react\";\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\nimport SettingsSuggestIcon from '@mui/icons-material/SettingsSuggest';\nimport { Box, Card, CardContent, Grid, IconButton, Skeleton } from '@mui/material';\nimport { useState } from 'react';\nimport { AutocompleteArrayInput, DateTimeInput, FormDataConsumer, ReferenceArrayInput, SaveButton, SimpleForm, Toolbar, required, useLocaleState } from 'react-admin';\n\nexport default function EmployeeSummaryList() {\n    // State variable to store the source URL of the PDF file\n    const [pdfSource, setPdfSource] = useState('');\n    const [locale, setLocale] = useLocaleState();\n\n    return (\n        <div>\n            <Grid container spacing={2}>\n                <Grid item xs={4}>\n                <Card\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\toverflowY: \"auto\",\n\t\t\t\t\t\t\theight: \"85vh\",\n\t\t\t\t\t\t\tmarginTop: \"10px\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardContent sx={{ pt: 1 }}>\n                            <SimpleForm\n                                onSubmit={(data) => {\n                                    let url = `../api/event/print?locale=${locale}&start=${data.start.toISOString()}&end=${data.end.toISOString()}`;\n                                    if (data.employee && data.employee[0]) {\n                                        url += `&employees=${data.employee.join(\",\")}`\n                                    }\n                                    setPdfSource(url)\n                                }}\n                                toolbar={<Toolbar>\n                                    <SaveButton label={\"Generate\"} icon={<SettingsSuggestIcon />} />\n                                    <IconButton sx={{ marginLeft: \"auto\" }} aria-label=\"delete\" onClick={() => {\n                                        //debugger;\n                                    }}>\n                                        <RestartAltIcon />\n                                    </IconButton>\n                                </Toolbar>}>\n\n                                <FormDataConsumer>\n                                {({ formData, ...rest }) => \n                                <Box sx={{ flexGrow: 1 }}>\n                                    <Grid container spacing={2}>\n                                        <Grid item xs={12}>\n                                            <DateTimeInput source=\"start\" alwaysOn fullWidth validate={required()}/>\n                                        </Grid> \n                                        <Grid item xs={12}>\n                                            <DateTimeInput source=\"end\" alwaysOn fullWidth validate={required()}/>\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                                <ReferenceArrayInput source=\"employee\" reference=\"employee\" label=\"Employee\" >\n                                                    <AutocompleteArrayInput optionText=\"fullname\" filterToQuery={string => ({ fullname: {ilike: `${string}`}} )}/>\n                                                </ReferenceArrayInput>\n                                        </Grid>\n                                    </Grid>\n                                </Box>\n                            }\n                            </FormDataConsumer>\n                            \n                            </SimpleForm>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n                </Grid>\n                <Grid item xs={8} marginTop={\"10px\"}>\n                    {pdfSource && <iframe \n                        src={pdfSource} \n                        width=\"100%\" height=\"100%\" />}\n                    {!pdfSource && <Skeleton variant=\"rounded\" width=\"100%\" height=\"100%\" />}\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}