{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar _a;\nimport * as React from 'react';\nimport { isElement } from 'react-is';\nimport { styled } from '@mui/material/styles';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemButton, ListItemIcon, ListItemText, ListItemSecondaryAction } from '@mui/material';\nimport CancelIcon from '@mui/icons-material/CancelOutlined';\nimport { useTranslate, useListFilterContext, shallowEqual, useEvent } from 'ra-core';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar arePropsEqual = function (prevProps, nextProps) {\n  return prevProps.label === nextProps.label && shallowEqual(prevProps.value, nextProps.value);\n};\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text (or React element) to be displayed for this item.\n *   If it's a string, the component will translate it.\n * - value: An object to be merged into the filter value when enabling the filter\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@mui/material';\n * import MailIcon from '@mui/icons-material/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@mui/material';\n * import AccessTimeIcon from '@mui/icons-material/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nexport var FilterListItem = memo(function (props) {\n  var label = props.label,\n    value = props.value,\n    icon = props.icon,\n    _a = props.isSelected,\n    getIsSelected = _a === void 0 ? DefaultIsSelected : _a,\n    _b = props.toggleFilter,\n    userToggleFilter = _b === void 0 ? DefaultToggleFilter : _b,\n    rest = __rest(props, [\"label\", \"value\", \"icon\", \"isSelected\", \"toggleFilter\"]);\n  var _c = useListFilterContext(),\n    filterValues = _c.filterValues,\n    setFilters = _c.setFilters;\n  var translate = useTranslate();\n  var toggleFilter = useEvent(userToggleFilter);\n  // We can't wrap this function with useEvent as it is called in the render phase\n  var isSelected = getIsSelected(value, filterValues);\n  var handleClick = function () {\n    return setFilters(toggleFilter(value, filterValues), null, false);\n  };\n  return React.createElement(StyledListItem, __assign({\n    onClick: handleClick,\n    selected: isSelected,\n    disablePadding: true\n  }, rest), React.createElement(ListItemButton, {\n    disableGutters: true,\n    className: FilterListItemClasses.listItemButton\n  }, icon && React.createElement(ListItemIcon, {\n    className: FilterListItemClasses.listItemIcon\n  }, icon), React.createElement(ListItemText, {\n    primary: isElement(label) ? label : translate(label, {\n      _: label\n    }),\n    className: FilterListItemClasses.listItemText,\n    \"data-selected\": isSelected ? 'true' : 'false'\n  }), isSelected && React.createElement(ListItemSecondaryAction, {\n    onClick: function (event) {\n      event.stopPropagation();\n      handleClick();\n    }\n  }, React.createElement(IconButton, {\n    size: \"small\"\n  }, React.createElement(CancelIcon, null)))));\n}, arePropsEqual);\nvar DefaultIsSelected = function (value, filters) {\n  return matches(pickBy(value, function (val) {\n    return typeof val !== 'undefined';\n  }))(filters);\n};\nvar DefaultToggleFilter = function (value, filters) {\n  var isSelected = matches(pickBy(value, function (val) {\n    return typeof val !== 'undefined';\n  }))(filters);\n  if (isSelected) {\n    var keysToRemove_1 = Object.keys(value);\n    return Object.keys(filters).reduce(function (acc, key) {\n      var _a;\n      return keysToRemove_1.includes(key) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = filters[key], _a));\n    }, {});\n  }\n  return __assign(__assign({}, filters), value);\n};\nvar PREFIX = 'RaFilterListItem';\nexport var FilterListItemClasses = {\n  listItemButton: \"\".concat(PREFIX, \"-listItemButton\"),\n  listItemText: \"\".concat(PREFIX, \"-listItemText\"),\n  listItemIcon: \"\".concat(PREFIX, \"-listItemIcon\")\n};\nvar StyledListItem = styled(ListItem, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})((_a = {}, _a[\"& .\".concat(FilterListItemClasses.listItemButton)] = {\n  paddingRight: '2em',\n  paddingLeft: '2em'\n}, _a[\"& .\".concat(FilterListItemClasses.listItemText)] = {\n  margin: 0\n}, _a[\"& .\".concat(FilterListItemClasses.listItemIcon)] = {\n  minWidth: 0,\n  marginRight: '0.5em'\n}, _a));","map":{"version":3,"names":["React","isElement","styled","memo","IconButton","ListItem","ListItemButton","ListItemIcon","ListItemText","ListItemSecondaryAction","CancelIcon","useTranslate","useListFilterContext","shallowEqual","useEvent","matches","pickBy","arePropsEqual","prevProps","nextProps","label","value","FilterListItem","props","icon","_a","isSelected","getIsSelected","DefaultIsSelected","_b","toggleFilter","userToggleFilter","DefaultToggleFilter","rest","__rest","_c","filterValues","setFilters","translate","handleClick","createElement","StyledListItem","__assign","onClick","selected","disablePadding","disableGutters","className","FilterListItemClasses","listItemButton","listItemIcon","primary","_","listItemText","event","stopPropagation","size","filters","val","keysToRemove_1","Object","keys","reduce","acc","key","includes","PREFIX","concat","name","overridesResolver","styles","root","paddingRight","paddingLeft","margin","minWidth","marginRight"],"sources":["../../../../src/list/filter/FilterListItem.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}