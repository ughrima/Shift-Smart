{"ast":null,"code":"import*as React from\"react\";import dayGrid from'@fullcalendar/daygrid';import interactionPlugin from'@fullcalendar/interaction';import FullCalendar from'@fullcalendar/react';// must go before plugins\nimport timeGrid from'@fullcalendar/timegrid';// a plugin!\nimport AddIcon from'@mui/icons-material/Add';import{Box,Button,Card,CardContent,Checkbox,DialogActions,DialogContent,DialogTitle,FormControl,FormControlLabel,Grid,IconButton,Popover,Radio,RadioGroup,useMediaQuery}from'@mui/material';import Dialog from'@mui/material/Dialog';import Fab from'@mui/material/Fab';import List from'@mui/material/List';import ListItem from'@mui/material/ListItem';import ListItemButton from'@mui/material/ListItemButton';import ListItemIcon from'@mui/material/ListItemIcon';import ListItemText from'@mui/material/ListItemText';import moment from'moment';import{useEffect,useRef,useState}from'react';import{Loading,useCreate,useDelete,useGetList,useLocaleState,useNotify,useTranslate,useUpdate}from'react-admin';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import{EventPopup}from'../components/EventPopup';import{dataProvider}from'../dataProvider';import{textColorOnHEXBg}from'../utils/Utilities';import CloseIcon from'@mui/icons-material/Close';import DeleteIcon from'@mui/icons-material/Delete';import EditIcon from'@mui/icons-material/Edit';import EventRoundedIcon from'@mui/icons-material/EventRounded';import QueryBuilderRoundedIcon from'@mui/icons-material/QueryBuilderRounded';import RepeatRoundedIcon from'@mui/icons-material/RepeatRounded';import SquareRoundedIcon from'@mui/icons-material/SquareRounded';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CalendarView(){var _popover$record,_popover$record2,_popover$record3,_popover$record4,_popover$record5,_popover$record6,_popover$record7,_popover$record7$_rru;const isSmall=useMediaQuery(theme=>theme.breakpoints.down('md'));const translate=useTranslate();const[locale]=useLocaleState();const calendarRef=useRef(null);const[create]=useCreate();const[update]=useUpdate();const[_delete]=useDelete();const notify=useNotify();const[calendarValue,setCalendarValue]=useState(new Date());const[recurrAction,setRecurrAction]=useState(\"0\");const[dialog,setDialog]=useState({open:false,record:undefined});const[editDialog,setEditDialog]=useState({open:false,record:undefined});const[recurrDialog,setRecurrDialog]=useState({fcinfo:undefined,//fullcalendar event info\nopen:false,record:undefined,event:undefined//edit or delete\n});const[window,setWindow]=useState({start:null,end:null});const[popover,setPopover]=useState({open:false,record:undefined,anchorEl:null});const[unchecked,setUnchecked]=useState([]);const[events,setEvents]=useState([]);const{data,isLoading,error}=useGetList('employee',{pagination:{page:0,perPage:0}});const flattenRecord=event=>{var record=event,extProps=record.extendedProps;delete record[\"extendedProps\"];var data={...record,...extProps};data.dtstart=data.start;data.dtend=data.end;return data;};/**\n\t * \n\t * @param callback \n\t * @returns \n\t */const reloadEvents=callback=>{if(!data||!window.start)return;let groups=data.map(e=>e.id);groups=groups.filter(g=>!unchecked.includes(g));let params={\"start\":window.start,\"end\":window.end,\"groups\":unchecked.length>0?groups:null,\"detailed\":true};dataProvider.getTimelineData(params).then(res=>{var _res$data;let fetchedEvents=(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.map(e=>{e.start=new Date(e.dtstart);e.end=new Date(e.dtend);e.allDay=e.all_day;e.textColor=textColorOnHEXBg(e.color);e.original_start_date=new Date(e.dtstart).toISOString();e.title=e.type==\"JOB\"?e.title:e.type;//TODO: translate this enum\nreturn e;});setEvents(fetchedEvents);if(callback)callback();}).catch(err=>{console.error(err);});};/**\n\t * on window change load the events\n\t */useEffect(()=>{reloadEvents();},[window,data,unchecked]);if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}if(error){return/*#__PURE__*/_jsx(\"p\",{children:\"ERROR\"});}const shallowRemoveEvent=eventId=>{let currEvents=events;currEvents=currEvents.filter(e=>e.id!=eventId);setEvents(currEvents);};const eventCreate=data=>{data.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone;data.dtstamp=new Date().toISOString();data.dtstart=new Date(data.dtstart).toISOString();data.dtend=new Date(data.dtend).toISOString();create('event',{data},{onError:error=>{notify(translate(\"ess.calendar.event.error_create\"));console.error(error);},onSettled:(data,error)=>{handleClose();reloadEvents(()=>{notify(translate(\"ess.calendar.event.success_create\"));});}});};const eventEditSubmit=info=>{let record=info&&info.event?flattenRecord(info.event.toJSON()):info||editDialog.record;record.dtstart=new Date(record.dtstart).toISOString();record.dtend=new Date(record.dtend).toISOString();//record.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n//record.dtstamp = new Date().toISOString();\nif(record!==null&&record!==void 0&&record.parent){setRecurrDialog({open:true,record:record,fcinfo:info,event:\"edit\"});}else{update('event',{id:record.id,data:record},{onError:error=>{notify(translate(\"ess.calendar.event.error_update\"));console.error(error);},onSettled:(data,error)=>{notify(translate(\"ess.calendar.event.success_update\"));setEditDialog({open:false,record:null});reloadEvents(()=>{notify(translate(\"ess.calendar.event.success_create\"));});}});}};const eventRemove=()=>{const record=editDialog.record||popover.record;if(record!==null&&record!==void 0&&record.parent){setRecurrDialog({open:true,record:record,fcinfo:undefined,event:\"delete\"});}else{_delete('event',{id:record.id,previousData:record},{onError:error=>{notify(translate(\"ess.calendar.event.error_delete\"));console.error(error);},onSettled:(data,error)=>{notify(translate(\"ess.calendar.event.success_delete\"));setPopover({open:false,record:null,anchorEl:null});shallowRemoveEvent(record.id);}});}};const handleToggle=value=>()=>{const currentIndex=unchecked.indexOf(value);const newUnchecked=[...unchecked];if(currentIndex===-1){newUnchecked.push(value);}else{newUnchecked.splice(currentIndex,1);}setUnchecked(newUnchecked);};const handleClose=()=>{setDialog({open:false,record:{}});};const handleOpen=function(){let record=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let props={open:true};if(record&&record.id){props[\"record\"]=record;}setDialog(props);};const handleCloseRecurrEvt=()=>{if(recurrDialog.fcinfo)recurrDialog.fcinfo.revert();setRecurrDialog({open:false,fcinfo:undefined,record:undefined,event:undefined});};const handleSubmitRecurrEvt=()=>{var data=recurrDialog.record,action=recurrAction,parent=data.parent,event=recurrDialog.event;const callback=()=>{reloadEvents(()=>{notify(translate(\"ess.calendar.event.success_update\"));setRecurrAction(\"0\");setPopover({open:false,record:null,anchorEl:null});setEditDialog({open:false,record:null});setRecurrDialog({open:false,fcinfo:undefined,record:undefined,event:undefined});});};switch(action){case\"0\"://this event only\ndelete data[\"id\"];var ex_dates=parent.ex_dates;parent.ex_dates=[ex_dates,data.original_start_date].filter(Boolean).join(\",\");delete data[\"original_start_date\"];data.recurring=false;update('event',{id:parent.id,data:parent},{onError:error=>{notify(translate(\"ess.calendar.event.error\"));console.error(error);},onSettled:(d,error)=>{if(event==\"edit\"){create('event',{data:data},{onError:error=>{notify(translate(\"ess.calendar.event.error\"));console.error(error);},onSettled:(d,error)=>{callback();}});}else{callback();}}});break;case\"1\"://this and following events\ndelete data[\"id\"];parent.until_type=1;parent.until_date=data.original_start_date;delete data[\"parent\"];delete data[\"original_start_date\"];update('event',{id:parent.id,data:parent},{onError:error=>{notify(translate(\"ess.calendar.event.error\"));console.error(error);},onSettled:(oldevt,error)=>{if(event==\"edit\"){create('event',{data:data},{onError:error=>{notify(translate(\"ess.calendar.event.error\"));console.error(error);},onSettled:(data,error)=>{callback();}});}else{callback();}}});break;case\"2\"://all events\ndata.id=parent.id;delete data[\"parent\"];delete data[\"original_start_date\"];_delete('event',{id:data.id,previousData:parent},{onError:error=>{notify(translate(\"ess.calendar.event.error\"));console.error(error);},onSettled:(data,error)=>{callback();}});break;default://unhandled action\t\t\t\n}};return/*#__PURE__*/_jsxs(\"div\",{id:\"calendar-container\",style:{margin:\"30px 0\"},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",children:[/*#__PURE__*/_jsx(Box,{sx:{display:{xs:'none',md:'block'},order:-1,width:'17em',mr:2,alignSelf:'flex-start',height:\"85vh\"},children:/*#__PURE__*/_jsx(Card,{sx:{overflowY:\"auto\",height:\"85vh\",marginTop:\"10px\"},children:/*#__PURE__*/_jsxs(CardContent,{sx:{pt:1},children:[/*#__PURE__*/_jsx(Calendar,{showFixedNumberOfWeeks:true//onChange={setCalendarValue} \n,value:calendarValue,formatShortWeekday:(locale,date)=>date.toLocaleDateString(locale,{weekday:'narrow'}),locale:locale,navigationLabel:_ref=>{let{date,label,locale,view}=_ref;return label;},next2Label:null,prev2Label:null,onClickDay:value=>{let calendar=calendarRef.current;calendar===null||calendar===void 0?void 0:calendar.getApi().gotoDate(value);setCalendarValue(value);}}),/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:\"0\",padding:\"0 6px\",marginTop:\"25px\"},children:\"Calendars\"}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"main\",children:/*#__PURE__*/_jsx(List,{children:data.map(record=>{const labelId=`checkbox-list-label-${record.id}`;return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{role:undefined,onClick:handleToggle(record.id),dense:true,children:[/*#__PURE__*/_jsx(ListItemIcon,{style:{minWidth:'40px'},children:/*#__PURE__*/_jsx(Checkbox,{edge:\"start\",checked:unchecked.indexOf(record.id)===-1,tabIndex:-1,disableRipple:true,style:{color:record.color},inputProps:{'aria-labelledby':labelId}})}),/*#__PURE__*/_jsx(ListItemText,{id:labelId,primary:record.fullname,secondaryTypographyProps:{fontWeight:200,fontSize:\"12px\"},secondary:translate(\"ess.calendar.calendarlist.number\")+\": \"+record.number})]})},record.id);})})})]})})}),/*#__PURE__*/_jsx(Box,{width:isSmall?'auto':'calc(100% - 18em)',height:\"85vh\",children:/*#__PURE__*/_jsx(FullCalendar,{ref:calendarRef//timeZone={'UTC'}\n,locale:locale,height:\"100%\",selectable:true,slotMinTime:\"05:00:00\",slotMaxTime:\"22:00:00\",plugins:[timeGrid,dayGrid,interactionPlugin],headerToolbar:{left:'today title',center:'',right:'prev,next'},titleFormat:{year:'numeric',month:'long'},eventMaxStack:5,initialView:\"timeGridWeek\",select:info=>{setDialog({open:true,record:{dtstart:info.startStr,dtend:info.endStr,all_day:info.allDay||false}});},eventContent:eventContent=>{if(eventContent.timeText)return/*#__PURE__*/_jsxs(_Fragment,{children:[eventContent.event.title,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"i\",{children:[eventContent.timeText,\" \"]})]});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"i\",{children:eventContent.event.title})});},eventClick:info=>{const item=info.event.toJSON();setPopover({open:true,anchorEl:info.el,record:flattenRecord(item)});},eventChange:info=>{eventEditSubmit(info);},editable:true,events:events,datesSet:dateInfo=>{setWindow({start:dateInfo.start.toISOString(),end:dateInfo.end.toISOString()});if(dateInfo.start>calendarValue||dateInfo.end<calendarValue)setCalendarValue(moment(dateInfo.start).add(moment(calendarValue).weekday(),'d').toDate());}})})]}),/*#__PURE__*/_jsxs(Dialog,{open:dialog.open,onClose:handleClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"New event\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(EventPopup,{...dialog,sanitizeEmptyValues:true,resource:\"event\",onSubmit:eventCreate})})]}),/*#__PURE__*/_jsxs(Dialog,{open:recurrDialog.open,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit recurring event\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(RadioGroup,{\"aria-labelledby\":\"demo-radio-buttons-group-label\",defaultValue:\"0\",name:\"radio-buttons-group\",onChange:e=>{setRecurrAction(e.target.value);},children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"0\",control:/*#__PURE__*/_jsx(Radio,{}),label:translate(\"ess.calendar.event.recurring.thisev\")}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"1\",control:/*#__PURE__*/_jsx(Radio,{}),label:translate(\"ess.calendar.event.recurring.thisandfoll\")})]})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseRecurrEvt,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmitRecurrEvt,children:\"OK\"})]})]}),/*#__PURE__*/_jsx(Fab,{color:\"primary\",\"aria-label\":\"add\",style:{right:20,position:'fixed',bottom:10},onClick:handleOpen,children:/*#__PURE__*/_jsx(AddIcon,{})}),/*#__PURE__*/_jsxs(Dialog,{open:editDialog.open,onClose:()=>{setEditDialog({open:false,record:null,anchorEl:null});},children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit event\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(EventPopup,{sanitizeEmptyValues:true,record:editDialog.record,resource:\"event\",onSubmit:eventEditSubmit,onRemoveClick:eventRemove})})]}),/*#__PURE__*/_jsx(Popover,{open:popover.open,anchorEl:popover.anchorEl,onClose:()=>{setPopover({open:false,record:null,anchorEl:null});},PaperProps:{style:{width:'300px'}},anchorOrigin:{vertical:'center',horizontal:'left'},transformOrigin:{vertical:'center',horizontal:'right'},children:/*#__PURE__*/_jsxs(Box,{sx:{m:0.5},children:[/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"flex-end\",children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>{setEditDialog({open:true,record:popover.record});setPopover({open:false,record:null,anchorEl:null});},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:eventRemove,children:/*#__PURE__*/_jsx(DeleteIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>{setPopover({open:false,record:null,anchorEl:null});},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-start\",children:/*#__PURE__*/_jsxs(List,{sx:{width:'100%',maxWidth:360,bgcolor:'background.paper'},children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{style:{minWidth:'40px'},children:/*#__PURE__*/_jsx(SquareRoundedIcon,{style:{color:(_popover$record=popover.record)===null||_popover$record===void 0?void 0:_popover$record.backgroundColor}})}),/*#__PURE__*/_jsx(ListItemText,{primary:(_popover$record2=popover.record)===null||_popover$record2===void 0?void 0:_popover$record2.employee_fullname})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{style:{minWidth:'40px'},children:/*#__PURE__*/_jsx(EventRoundedIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:(_popover$record3=popover.record)===null||_popover$record3===void 0?void 0:_popover$record3.title})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{style:{minWidth:'40px'},children:/*#__PURE__*/_jsx(QueryBuilderRoundedIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:new Date((_popover$record4=popover.record)===null||_popover$record4===void 0?void 0:_popover$record4.dtstart).toLocaleString(),secondary:new Date((_popover$record5=popover.record)===null||_popover$record5===void 0?void 0:_popover$record5.dtend).toLocaleString()})]}),/*#__PURE__*/_jsxs(ListItem,{style:{display:((_popover$record6=popover.record)===null||_popover$record6===void 0?void 0:_popover$record6._rrule)==null?\"none\":\"default\"},children:[/*#__PURE__*/_jsx(ListItemIcon,{style:{minWidth:'40px'},children:/*#__PURE__*/_jsx(RepeatRoundedIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:(_popover$record7=popover.record)===null||_popover$record7===void 0?void 0:(_popover$record7$_rru=_popover$record7._rrule)===null||_popover$record7$_rru===void 0?void 0:_popover$record7$_rru.toText()})]})]})})]})})]});}","map":{"version":3,"names":["React","dayGrid","interactionPlugin","FullCalendar","timeGrid","AddIcon","Box","Button","Card","CardContent","Checkbox","DialogActions","DialogContent","DialogTitle","FormControl","FormControlLabel","Grid","IconButton","Popover","Radio","RadioGroup","useMediaQuery","Dialog","Fab","List","ListItem","ListItemButton","ListItemIcon","ListItemText","moment","useEffect","useRef","useState","Loading","useCreate","useDelete","useGetList","useLocaleState","useNotify","useTranslate","useUpdate","Calendar","EventPopup","dataProvider","textColorOnHEXBg","CloseIcon","DeleteIcon","EditIcon","EventRoundedIcon","QueryBuilderRoundedIcon","RepeatRoundedIcon","SquareRoundedIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CalendarView","_popover$record","_popover$record2","_popover$record3","_popover$record4","_popover$record5","_popover$record6","_popover$record7","_popover$record7$_rru","isSmall","theme","breakpoints","down","translate","locale","calendarRef","create","update","_delete","notify","calendarValue","setCalendarValue","Date","recurrAction","setRecurrAction","dialog","setDialog","open","record","undefined","editDialog","setEditDialog","recurrDialog","setRecurrDialog","fcinfo","event","window","setWindow","start","end","popover","setPopover","anchorEl","unchecked","setUnchecked","events","setEvents","data","isLoading","error","pagination","page","perPage","flattenRecord","extProps","extendedProps","dtstart","dtend","reloadEvents","callback","groups","map","e","id","filter","g","includes","params","length","getTimelineData","then","res","_res$data","fetchedEvents","allDay","all_day","textColor","color","original_start_date","toISOString","title","type","catch","err","console","children","shallowRemoveEvent","eventId","currEvents","eventCreate","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","dtstamp","onError","onSettled","handleClose","eventEditSubmit","info","toJSON","parent","eventRemove","previousData","handleToggle","value","currentIndex","indexOf","newUnchecked","push","splice","handleOpen","arguments","props","handleCloseRecurrEvt","revert","handleSubmitRecurrEvt","action","ex_dates","Boolean","join","recurring","d","until_type","until_date","oldevt","style","margin","display","sx","xs","md","order","width","mr","alignSelf","height","overflowY","marginTop","pt","showFixedNumberOfWeeks","formatShortWeekday","date","toLocaleDateString","weekday","navigationLabel","_ref","label","view","next2Label","prev2Label","onClickDay","calendar","current","getApi","gotoDate","marginBottom","padding","labelId","disablePadding","role","onClick","dense","minWidth","edge","checked","tabIndex","disableRipple","inputProps","primary","fullname","secondaryTypographyProps","fontWeight","fontSize","secondary","number","ref","selectable","slotMinTime","slotMaxTime","plugins","headerToolbar","left","center","right","titleFormat","year","month","eventMaxStack","initialView","select","startStr","endStr","eventContent","timeText","eventClick","item","el","eventChange","editable","datesSet","dateInfo","add","toDate","onClose","sanitizeEmptyValues","resource","onSubmit","defaultValue","name","onChange","target","control","position","bottom","onRemoveClick","PaperProps","anchorOrigin","vertical","horizontal","transformOrigin","m","container","justifyContent","maxWidth","bgcolor","backgroundColor","employee_fullname","toLocaleString","_rrule","toText"],"sources":["/home/agrima/Desktop/curr-projects/employee-shift-scheduler/webapp/src/main/frontend/src/views/calendar.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { EventChangeArg, EventContentArg, EventInput } from '@fullcalendar/core';\nimport dayGrid from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport FullCalendar from '@fullcalendar/react'; // must go before plugins\nimport timeGrid from '@fullcalendar/timegrid'; // a plugin!\nimport AddIcon from '@mui/icons-material/Add';\nimport { Box, Button, Card, CardContent, Checkbox, DialogActions, DialogContent, DialogTitle, FormControl, FormControlLabel, Grid, IconButton, Popover, Radio, RadioGroup, Theme, useMediaQuery } from '@mui/material';\nimport Dialog from '@mui/material/Dialog';\nimport Fab from '@mui/material/Fab';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport moment from 'moment';\nimport { useEffect, useRef, useState } from 'react';\nimport { Loading, useCreate, useDelete, useGetList, useLocaleState, useNotify, useTranslate, useUpdate } from 'react-admin';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport { EventPopup } from '../components/EventPopup';\nimport { dataProvider } from '../dataProvider';\nimport { textColorOnHEXBg } from '../utils/Utilities';\n\nimport CloseIcon from '@mui/icons-material/Close';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport EventRoundedIcon from '@mui/icons-material/EventRounded';\nimport QueryBuilderRoundedIcon from '@mui/icons-material/QueryBuilderRounded';\nimport RepeatRoundedIcon from '@mui/icons-material/RepeatRounded';\nimport SquareRoundedIcon from '@mui/icons-material/SquareRounded';\n\n\nexport default function CalendarView() {\n\tconst isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\n    const translate = useTranslate();\n\tconst [locale] = useLocaleState();\n\tconst calendarRef = useRef<FullCalendar>(null);\n\tconst [create] = useCreate();\n\tconst [update] = useUpdate();\n\tconst [_delete] = useDelete();\n\tconst notify = useNotify();\n\tconst [calendarValue, setCalendarValue] = useState(new Date());\n\tconst [recurrAction, setRecurrAction] = useState(\"0\")\n\tconst [dialog, setDialog] = useState<any>({\n\t\topen: false,\n\t\trecord: undefined\n\t});\n\tconst [editDialog, setEditDialog] = useState<any>({\n\t\topen: false,\n\t\trecord: undefined\n\t});\n\tconst [recurrDialog, setRecurrDialog] = useState<any>({\n\t\tfcinfo: undefined, //fullcalendar event info\n\t\topen: false,\n\t\trecord: undefined,\n\t\tevent: undefined //edit or delete\n\t});\n\tconst [window, setWindow] = useState<any>({\n\t\tstart: null,\n\t\tend: null\n\t})\n\n\tconst [popover, setPopover] = useState<any>({\n\t\topen: false,\n\t\trecord: undefined,\n\t\tanchorEl: null\n\t})\n\n\tconst [unchecked, setUnchecked] = useState([] as number[]);\n\tconst [events, setEvents] = useState([] as EventInput[]);\n\n\tconst { data, isLoading, error } = useGetList(\n\t\t'employee', { \n            pagination: { page: 0, perPage: 0 }\n        }\n\t);\n\n\tconst flattenRecord = (event: EventInput) => {\n\t\tvar record = event,\n\t\t\textProps = record.extendedProps;\n\n\t\tdelete record[\"extendedProps\"];\n\t\tvar data = { ...record, ...extProps };\n\t\tdata.dtstart = data.start;\n\t\tdata.dtend = data.end;\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * \n\t * @param callback \n\t * @returns \n\t */\n\tconst reloadEvents = (callback?: () => void) => {\n\t\tif (!data || !window.start)\n\t\t\treturn;\n\n\t\tlet groups = data!.map(e => e.id);\n\t\tgroups = groups.filter(g => !unchecked.includes(g))\n\n\t\tlet params = {\n\t\t\t\"start\": window.start,\n\t\t\t\"end\": window.end,\n\t\t\t\"groups\": unchecked.length > 0 ? groups : null,\n\t\t\t\"detailed\": true\n\t\t};\n\n\t\tdataProvider.getTimelineData(params)\n\t\t\t.then((res) => {\n\t\t\t\tlet fetchedEvents = res.data?.map((e: EventInput) => {\n\t\t\t\t\te.start = new Date(e.dtstart);\n\t\t\t\t\te.end = new Date(e.dtend);\n\t\t\t\t\te.allDay = e.all_day;\n\t\t\t\t\te.textColor = textColorOnHEXBg(e.color);\n\t\t\t\t\te.original_start_date = new Date(e.dtstart).toISOString()\n\t\t\t\t\te.title = e.type == \"JOB\" ? e.title : e.type //TODO: translate this enum\n\t\t\t\t\t\n\t\t\t\t\treturn e;\n\t\t\t\t})\n\n\t\t\t\tsetEvents(fetchedEvents);\n\t\t\t\tif (callback)\n\t\t\t\t\tcallback()\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\n\t/**\n\t * on window change load the events\n\t */\n\tuseEffect(() => {\n\t\treloadEvents()\n\t}, [window, data, unchecked])\n\n\tif (isLoading) { return <Loading />; }\n\tif (error) { return <p>ERROR</p>; }\n\n\tconst shallowRemoveEvent = (eventId: string) => {\n\t\tlet currEvents = events;\n\t\tcurrEvents = currEvents.filter(e => e.id != eventId);\n\n\t\tsetEvents(currEvents);\n\t}\n\n\tconst eventCreate = (data: any) => {\n\t\tdata.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\t\tdata.dtstamp = new Date().toISOString();\n\t\tdata.dtstart = new Date(data.dtstart).toISOString()\n\t\tdata.dtend = new Date(data.dtend).toISOString()\n\n\t\tcreate('event', { data }, {\n\t\t\tonError: (error) => {\n\t\t\t\tnotify(translate(\"ess.calendar.event.error_create\")) \n\t\t\t\tconsole.error(error)\n\t\t\t},\n\t\t\tonSettled: (data, error) => {\n\t\t\t\thandleClose();\n\t\t\t\treloadEvents(() => {\n\t\t\t\t\tnotify(translate(\"ess.calendar.event.success_create\")) \n\t\t\t\t})\n\t\t\t},\n\t\t});\n\t}\n\n\tconst eventEditSubmit = (info?: EventChangeArg) => {\n\t\tlet record = info && info.event ? flattenRecord(info.event.toJSON()) : info || editDialog.record;\n\t\trecord.dtstart = new Date(record.dtstart).toISOString()\n\t\trecord.dtend = new Date(record.dtend).toISOString()\n\t\t//record.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\t\t//record.dtstamp = new Date().toISOString();\n\n\t\tif (record?.parent) {\n\t\t\tsetRecurrDialog({\n\t\t\t\topen: true,\n\t\t\t\trecord: record,\n\t\t\t\tfcinfo: info,\n\t\t\t\tevent: \"edit\"\n\t\t\t})\n\t\t} else {\n\t\t\tupdate('event', { id: record.id, data: record }, {\n\t\t\t\tonError: (error) => {\n\t\t\t\t\tnotify(translate(\"ess.calendar.event.error_update\")) \n\t\t\t\t\tconsole.error(error)\n\t\t\t\t},\n\t\t\t\tonSettled: (data, error) => {\n\t\t\t\t\tnotify(translate(\"ess.calendar.event.success_update\")) \n\t\t\t\t\tsetEditDialog({\n\t\t\t\t\t\topen: false,\n\t\t\t\t\t\trecord: null\n\t\t\t\t\t});\n\n\t\t\t\t\treloadEvents(() => {\n\t\t\t\t\t\tnotify(translate(\"ess.calendar.event.success_create\")) \n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tconst eventRemove = () => {\n\t\tconst record = editDialog.record || popover.record;\n\t\t\n\t\tif (record?.parent) {\n\t\t\tsetRecurrDialog({\n\t\t\t\topen: true,\n\t\t\t\trecord: record,\n\t\t\t\tfcinfo: undefined,\n\t\t\t\tevent: \"delete\"\n\t\t\t})\n\t\t} else {\n\t\t\t_delete('event', { id: record.id, previousData: record }, {\n\t\t\t\tonError: (error) => {\n\t\t\t\t\tnotify(translate(\"ess.calendar.event.error_delete\"))\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t},\n\t\t\t\tonSettled: (data, error) => {\n\t\t\t\t\tnotify(translate(\"ess.calendar.event.success_delete\"))\n\t\t\t\t\tsetPopover({\n\t\t\t\t\t\topen: false,\n\t\t\t\t\t\trecord: null,\n\t\t\t\t\t\tanchorEl: null\n\t\t\t\t\t});\n\t\t\t\t\tshallowRemoveEvent(record.id)\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tconst handleToggle = (value: number) => () => {\n\t\tconst currentIndex = unchecked.indexOf(value);\n\t\tconst newUnchecked = [...unchecked];\n\n\t\tif (currentIndex === -1) {\n\t\t\tnewUnchecked.push(value);\n\t\t} else {\n\t\t\tnewUnchecked.splice(currentIndex, 1);\n\t\t}\n\n\t\tsetUnchecked(newUnchecked);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetDialog({\n\t\t\topen: false,\n\t\t\trecord: {}\n\t\t})\n\t}\n\n\tconst handleOpen = (record: any = null) => {\n\t\tlet props: any = {\n\t\t\topen: true\n\t\t}\n\t\tif (record && record.id) {\n\t\t\tprops[\"record\"] = record;\n\t\t}\n\n\t\tsetDialog(props)\n\t}\n\n\tconst handleCloseRecurrEvt = () => {\n\t\tif (recurrDialog.fcinfo)\n\t\t\trecurrDialog.fcinfo.revert()\n\n\t\tsetRecurrDialog({\n\t\t\topen: false,\n\t\t\tfcinfo: undefined,\n\t\t\trecord: undefined,\n\t\t\tevent: undefined\n\t\t})\n\t}\n\n\tconst handleSubmitRecurrEvt = () => {\n\t\tvar data = recurrDialog.record,\n\t\t\taction = recurrAction,\n\t\t\tparent = data.parent,\n\t\t\tevent = recurrDialog.event;\n\n\t\tconst callback = () => {\n\t\t\treloadEvents(() => {\n\t\t\t\tnotify(translate(\"ess.calendar.event.success_update\"))\n\n\t\t\t\tsetRecurrAction(\"0\")\n\t\t\t\tsetPopover({\n\t\t\t\t\topen: false,\n\t\t\t\t\trecord: null,\n\t\t\t\t\tanchorEl: null\n\t\t\t\t});\n\t\t\t\tsetEditDialog({\n\t\t\t\t\topen: false,\n\t\t\t\t\trecord: null\n\t\t\t\t});\n\t\t\t\tsetRecurrDialog({\n\t\t\t\t\topen: false,\n\t\t\t\t\tfcinfo: undefined,\n\t\t\t\t\trecord: undefined,\n\t\t\t\t\tevent: undefined\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\tswitch (action) {\n\t\t\tcase \"0\": //this event only\n\t\t\t\tdelete data[\"id\"];\n\n\t\t\t\tvar ex_dates = parent.ex_dates;\n\t\t\t\tparent.ex_dates = [ex_dates, data.original_start_date].filter(Boolean).join(\",\");\n\n\t\t\t\tdelete data[\"original_start_date\"]\n\t\t\t\tdata.recurring = false;\n\n\t\t\t\tupdate('event', { id: parent.id, data: parent }, {\n\t\t\t\t\tonError: (error) => {\n\t\t\t\t\t\tnotify(translate(\"ess.calendar.event.error\"))\n\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t},\n\t\t\t\t\tonSettled: (d, error) => {\n\t\t\t\t\t\tif (event == \"edit\") {\n\t\t\t\t\t\t\tcreate('event', { data: data }, {\n\t\t\t\t\t\t\t\tonError: (error) => {\n\t\t\t\t\t\t\t\t\tnotify(translate(\"ess.calendar.event.error\"))\n\t\t\t\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonSettled: (d, error) => {\n\t\t\t\t\t\t\t\t\tcallback()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback()\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\n\n\t\t\t\tbreak;\n\t\t\tcase \"1\": //this and following events\n\t\t\t\tdelete data[\"id\"];\n\n\t\t\t\tparent.until_type = 1;\n\t\t\t\tparent.until_date = data.original_start_date;\n\n\t\t\t\tdelete data[\"parent\"]\n\t\t\t\tdelete data[\"original_start_date\"]\n\n\t\t\t\tupdate('event', { id: parent.id, data: parent }, {\n\t\t\t\t\tonError: (error) => {\n\t\t\t\t\t\tnotify(translate(\"ess.calendar.event.error\"))\n\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t},\n\t\t\t\t\tonSettled: (oldevt, error) => {\n\t\t\t\t\t\tif (event == \"edit\") {\n\t\t\t\t\t\t\tcreate('event', { data: data }, {\n\t\t\t\t\t\t\t\tonError: (error) => {\n\t\t\t\t\t\t\t\t\tnotify(translate(\"ess.calendar.event.error\"))\n\t\t\t\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonSettled: (data, error) => {\n\t\t\t\t\t\t\t\t\tcallback()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback()\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"2\": //all events\n\t\t\t\tdata.id = parent.id;\n\n\t\t\t\tdelete data[\"parent\"]\n\t\t\t\tdelete data[\"original_start_date\"]\n\n\t\t\t\t_delete('event', { id: data.id, previousData: parent }, {\n\t\t\t\t\tonError: (error) => {\n\t\t\t\t\t\tnotify(translate(\"ess.calendar.event.error\"))\n\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t},\n\t\t\t\t\tonSettled: (data, error) => {\n\t\t\t\t\t\tcallback()\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t//unhandled action\t\t\t\n\t\t}\n\t}\n\n\treturn (\n\t\t<div id=\"calendar-container\" style={{\n\t\t\tmargin: \"30px 0\"\n\t\t}}>\n\t\t\t<Box display=\"flex\">\n\t\t\t\t{\n\t\t\t\t\t/**\n\t\t\t\t\t * Left component\n\t\t\t\t\t */\n\t\t\t\t}\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: { xs: 'none', md: 'block' },\n\t\t\t\t\t\torder: -1,\n\t\t\t\t\t\twidth: '17em',\n\t\t\t\t\t\tmr: 2,\n\t\t\t\t\t\talignSelf: 'flex-start',\n\t\t\t\t\t\theight: \"85vh\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Card\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\toverflowY: \"auto\",\n\t\t\t\t\t\t\theight: \"85vh\",\n\t\t\t\t\t\t\tmarginTop: \"10px\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardContent sx={{ pt: 1 }}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * Small calendar component\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\tshowFixedNumberOfWeeks={true}\n\t\t\t\t\t\t\t\t//onChange={setCalendarValue} \n\t\t\t\t\t\t\t\tvalue={calendarValue}\n\t\t\t\t\t\t\t\tformatShortWeekday={(locale, date) => date.toLocaleDateString(locale, { weekday: 'narrow' })}\n\t\t\t\t\t\t\t\tlocale={locale}\n\t\t\t\t\t\t\t\tnavigationLabel={({ date, label, locale, view }) => label}\n\t\t\t\t\t\t\t\tnext2Label={null}\n\t\t\t\t\t\t\t\tprev2Label={null}\n\t\t\t\t\t\t\t\tonClickDay={(value) => {\n\t\t\t\t\t\t\t\t\tlet calendar = calendarRef.current;\n\t\t\t\t\t\t\t\t\tcalendar?.getApi().gotoDate(value)\n\t\t\t\t\t\t\t\t\tsetCalendarValue(value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * Employee list\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<h4 style={{\n\t\t\t\t\t\t\t\tmarginBottom: \"0\",\n\t\t\t\t\t\t\t\tpadding: \"0 6px\",\n\t\t\t\t\t\t\t\tmarginTop: \"25px\"\n\t\t\t\t\t\t\t}}>Calendars</h4>\n\t\t\t\t\t\t\t<nav aria-label=\"main\">\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t{data!.map(record => {\n\t\t\t\t\t\t\t\t\t\tconst labelId = `checkbox-list-label-${record.id}`;\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<ListItem disablePadding key={record.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItemButton role={undefined} onClick={handleToggle(record.id)} dense>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon style={{minWidth: '40px'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={unchecked.indexOf(record.id) === -1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableRipple\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: record.color,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={labelId}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={record.fullname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondaryTypographyProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 200,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"12px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary={translate(\"ess.calendar.calendarlist.number\") + \": \" + record.number} />\n\t\t\t\t\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t\t{\n\t\t\t\t\t/**\n\t\t\t\t\t * Fullcalendar/Main component\n\t\t\t\t\t */\n\t\t\t\t}\n\t\t\t\t<Box width={isSmall ? 'auto' : 'calc(100% - 18em)'} height=\"85vh\">\n\t\t\t\t\t<FullCalendar\n\t\t\t\t\t\tref={calendarRef}\n\t\t\t\t\t\t//timeZone={'UTC'}\n\t\t\t\t\t\tlocale={locale}\n\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\tselectable={true}\n\t\t\t\t\t\tslotMinTime=\"05:00:00\"\n\t\t\t\t\t\tslotMaxTime=\"22:00:00\"\n\t\t\t\t\t\tplugins={[timeGrid, dayGrid, interactionPlugin]}\n\t\t\t\t\t\theaderToolbar={{\n\t\t\t\t\t\t\tleft: 'today title',\n\t\t\t\t\t\t\tcenter: '',\n\t\t\t\t\t\t\tright: 'prev,next'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitleFormat={{ year: 'numeric', month: 'long' }}\n\t\t\t\t\t\teventMaxStack={5}\n\t\t\t\t\t\tinitialView=\"timeGridWeek\"\n\t\t\t\t\t\tselect={(info) => {\n\t\t\t\t\t\t\tsetDialog({\n\t\t\t\t\t\t\t\topen: true,\n\t\t\t\t\t\t\t\trecord: {\n\t\t\t\t\t\t\t\t\tdtstart: info.startStr,\n\t\t\t\t\t\t\t\t\tdtend: info.endStr,\n\t\t\t\t\t\t\t\t\tall_day: info.allDay || false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\teventContent={(eventContent: EventContentArg) => {\n\t\t\t\t\t\t\tif (eventContent.timeText)\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{eventContent.event.title}<br />\n\t\t\t\t\t\t\t\t\t\t<i>{eventContent.timeText} </i>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<i>{eventContent.event.title}</i>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\n\t\t\t\t\t\teventClick={(info) => {\n\t\t\t\t\t\t\tconst item = info.event.toJSON();\n\n\t\t\t\t\t\t\tsetPopover({\n\t\t\t\t\t\t\t\topen: true,\n\t\t\t\t\t\t\t\tanchorEl: info.el,\n\t\t\t\t\t\t\t\trecord: flattenRecord(item)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\teventChange={(info) => {\n\t\t\t\t\t\t\teventEditSubmit(info)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\tevents={events}\n\t\t\t\t\t\tdatesSet={(dateInfo) => {\n\t\t\t\t\t\t\tsetWindow({\n\t\t\t\t\t\t\t\tstart: dateInfo.start.toISOString(),\n\t\t\t\t\t\t\t\tend: dateInfo.end.toISOString()\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tif (dateInfo.start > calendarValue || dateInfo.end < calendarValue)\n\t\t\t\t\t\t\t\tsetCalendarValue(moment(dateInfo.start).add(moment(calendarValue).weekday(), 'd').toDate());\n\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t * Dialog (popup) opened on \"add button\"\n\t\t\t\t * or on \"select\" calendar event\n\t\t\t\t */\n\t\t\t}\n\t\t\t<Dialog\n\t\t\t\topen={dialog.open}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<DialogTitle>New event</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<EventPopup\n\t\t\t\t\t\t{...dialog}\n\t\t\t\t\t\tsanitizeEmptyValues\n\t\t\t\t\t\tresource=\"event\"\n\t\t\t\t\t\tonSubmit={eventCreate}>\n\t\t\t\t\t</EventPopup>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t * Dialog (popup) opened on \"recurring event\" change\n\t\t\t\t * useful to choose what to do on the recurring timeline\n\t\t\t\t */\n\t\t\t}\n\t\t\t<Dialog open={recurrDialog.open}>\n\t\t\t\t<DialogTitle>Edit recurring event</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\taria-labelledby=\"demo-radio-buttons-group-label\"\n\t\t\t\t\t\t\tdefaultValue=\"0\"\n\t\t\t\t\t\t\tname=\"radio-buttons-group\"\n\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\tsetRecurrAction(e.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormControlLabel value=\"0\" control={<Radio />} label={translate(\"ess.calendar.event.recurring.thisev\")} />\n\t\t\t\t\t\t\t<FormControlLabel value=\"1\" control={<Radio />} label={translate(\"ess.calendar.event.recurring.thisandfoll\")} />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//disabled because it is tricky to handle\n\t\t\t\t\t\t\t\t//<FormControlLabel value=\"2\" control={<Radio />} label=\"All events\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleCloseRecurrEvt}>Cancel</Button>\n\t\t\t\t\t<Button onClick={handleSubmitRecurrEvt}>OK</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t * Add button\n\t\t\t\t */\n\t\t\t}\n\t\t\t<Fab color=\"primary\" aria-label=\"add\" style={{\n\t\t\t\tright: 20,\n\t\t\t\tposition: 'fixed',\n\t\t\t\tbottom: 10\n\t\t\t}} onClick={handleOpen}>\n\t\t\t\t<AddIcon />\n\t\t\t</Fab>\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t * Popover attached to the event on event click\n\t\t\t\t */\n\t\t\t}\n\t\t\t<Dialog\n\t\t\t\topen={editDialog.open}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetEditDialog({\n\t\t\t\t\t\topen: false,\n\t\t\t\t\t\trecord: null,\n\t\t\t\t\t\tanchorEl: null\n\t\t\t\t\t});\n\t\t\t\t}}>\n\t\t\t\t<DialogTitle>Edit event</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<EventPopup\n\t\t\t\t\t\tsanitizeEmptyValues\n\t\t\t\t\t\trecord={editDialog.record}\n\t\t\t\t\t\tresource=\"event\"\n\t\t\t\t\t\tonSubmit={eventEditSubmit}\n\t\t\t\t\t\tonRemoveClick={eventRemove}>\n\t\t\t\t\t</EventPopup>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t<Popover\n\t\t\t\topen={popover.open}\n\t\t\t\tanchorEl={popover.anchorEl}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetPopover({\n\t\t\t\t\t\topen: false,\n\t\t\t\t\t\trecord: null,\n\t\t\t\t\t\tanchorEl: null\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tPaperProps={{\n\t\t\t\t\tstyle: { width: '300px' },\n\t\t\t\t}}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: 'center',\n\t\t\t\t\thorizontal: 'left',\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: 'center',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box sx={{ m: 0.5 }}>\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\n\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\tsetEditDialog({\n\t\t\t\t\t\t\t\topen: true,\n\t\t\t\t\t\t\t\trecord: popover.record\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetPopover({\n\t\t\t\t\t\t\t\topen: false,\n\t\t\t\t\t\t\t\trecord: null,\n\t\t\t\t\t\t\t\tanchorEl: null\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={eventRemove}>\n\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => {\n\t\t\t\t\t\t\tsetPopover({\n\t\t\t\t\t\t\t\topen: false,\n\t\t\t\t\t\t\t\trecord: null,\n\t\t\t\t\t\t\t\tanchorEl: null\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container justifyContent=\"flex-start\">\n\t\t\t\t\t\t<List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemIcon style={{minWidth: '40px'}}>\n\t\t\t\t\t\t\t\t\t<SquareRoundedIcon style={{ color: popover.record?.backgroundColor }} />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={popover.record?.employee_fullname} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemIcon style={{minWidth: '40px'}}>\n\t\t\t\t\t\t\t\t\t<EventRoundedIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={popover.record?.title} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemIcon style={{minWidth: '40px'}}>\n\t\t\t\t\t\t\t\t\t<QueryBuilderRoundedIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tprimary={new Date(popover.record?.dtstart).toLocaleString()}\n\t\t\t\t\t\t\t\t\tsecondary={new Date(popover.record?.dtend).toLocaleString()} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem style={{\n\t\t\t\t\t\t\t\tdisplay: popover.record?._rrule == null ? \"none\" : \"default\"\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<ListItemIcon style={{minWidth: '40px'}}>\n\t\t\t\t\t\t\t\t\t<RepeatRoundedIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tprimary={popover.record?._rrule?.toText()} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</Popover>\n\t\t</div >\n\t)\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}