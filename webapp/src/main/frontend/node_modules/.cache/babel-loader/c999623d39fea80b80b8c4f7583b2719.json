{"ast":null,"code":"import React from'react';import DeleteIcon from'@mui/icons-material/Delete';import{Box,Grid,IconButton}from'@mui/material';import{AutocompleteInput,BooleanInput,DateTimeInput,FormDataConsumer,ReferenceInput,SaveButton,SelectInput,SimpleForm,Toolbar,required}from\"react-admin\";import{eventTypeEnum}from'../utils/Utilities';import RruleInput from'./RruleInput';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostCreateToolbar=props=>{return/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(SaveButton,{label:\"Save\"}),/*#__PURE__*/_jsx(IconButton,{sx:{marginLeft:\"auto\"},\"aria-label\":\"delete\",onClick:()=>{props.onRemoveClick();},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]});};export const EventPopup=props=>{const{onRemoveClick,...sfProps}=props;return/*#__PURE__*/_jsx(SimpleForm,{...sfProps,toolbar:/*#__PURE__*/_jsx(PostCreateToolbar,{onRemoveClick:onRemoveClick}),children:/*#__PURE__*/_jsx(FormDataConsumer,{children:_ref=>{let{formData,...rest}=_ref;return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(BooleanInput,{source:\"all_day\",label:\"Tutto il giorno\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(DateTimeInput,{fullWidth:true,source:\"dtstart\",label:\"Data inizio\",validate:required()})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(DateTimeInput,{fullWidth:true,source:\"dtend\",label:\"Data fine\",validate:required()})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(SelectInput,{source:\"type\",validate:required(),choices:Object.entries(eventTypeEnum).map(_ref2=>{let[id,name]=_ref2;return{id,name};})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(ReferenceInput,{source:\"employee\",reference:\"employee\",label:\"Employee\",children:/*#__PURE__*/_jsx(AutocompleteInput,{optionText:\"fullname\",validate:required(),filterToQuery:string=>({fullname:{ilike:`${string}`}})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:formData.type===\"JOB\"&&/*#__PURE__*/_jsx(ReferenceInput,{source:\"customer\",reference:\"customer\",label:\"Customer\",children:/*#__PURE__*/_jsx(AutocompleteInput,{optionText:\"name\",validate:required(),filterToQuery:string=>({name:{ilike:`${string}`}})})})})]}),/*#__PURE__*/_jsx(RruleInput,{source:\"rrule\"})]});}})});};","map":{"version":3,"names":["React","DeleteIcon","Box","Grid","IconButton","AutocompleteInput","BooleanInput","DateTimeInput","FormDataConsumer","ReferenceInput","SaveButton","SelectInput","SimpleForm","Toolbar","required","eventTypeEnum","RruleInput","jsx","_jsx","jsxs","_jsxs","PostCreateToolbar","props","children","label","sx","marginLeft","onClick","onRemoveClick","EventPopup","sfProps","toolbar","_ref","formData","rest","flexGrow","container","spacing","item","xs","source","fullWidth","validate","choices","Object","entries","map","_ref2","id","name","reference","optionText","filterToQuery","string","fullname","ilike","type"],"sources":["/home/agrima/Desktop/curr-projects/Shift-Smart/webapp/src/main/frontend/src/components/EventPopup.tsx"],"sourcesContent":["import React from 'react';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { Box, Grid, IconButton } from '@mui/material';\nimport { AutocompleteInput, BooleanInput, DateTimeInput, FormDataConsumer, ReferenceInput, SaveButton, SelectInput, SimpleForm, Toolbar, required, useDelete } from \"react-admin\";\nimport { eventTypeEnum } from '../utils/Utilities';\nimport RruleInput from './RruleInput';\n\nconst PostCreateToolbar = (props:any) => {\n    return (\n        <Toolbar>\n            <SaveButton\n                label=\"Save\"\n            />\n            <IconButton sx={{ marginLeft: \"auto\" }} aria-label=\"delete\" onClick={() => {\n                props.onRemoveClick()\n            }}>\n                <DeleteIcon />\n            </IconButton>\n        </Toolbar>\n    );\n};\n\nexport const EventPopup = (props: any) => {\n    const { onRemoveClick, ...sfProps } = props;\n\n    return (\n        <SimpleForm\n            {...sfProps}\n            toolbar={<PostCreateToolbar onRemoveClick={onRemoveClick}></PostCreateToolbar>}>\n\n            <FormDataConsumer>\n            {({ formData, ...rest }) => \n            <Box sx={{ flexGrow: 1 }}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <BooleanInput source=\"all_day\" label=\"Tutto il giorno\" />\n                    </Grid>\n                    <Grid item xs={6}>\n                        <DateTimeInput fullWidth source=\"dtstart\" label=\"Data inizio\" validate={required()} />\n                    </Grid>\n                    {/*<Grid item xs={3}>\n                        {!formData.all_day && <TimeInput fullWidth source=\"start_time\" label=\"Ora inizio\" validate={required()} />}\n                    </Grid>*/}\n                    <Grid item xs={6}>\n                        <DateTimeInput fullWidth source=\"dtend\" label=\"Data fine\" validate={required()} />\n                    </Grid>\n                    {/*<Grid item xs={3}>\n                        {!formData.all_day && <TimeInput fullWidth source=\"end_time\" label=\"Ora fine\" validate={required()} />}\n                    </Grid>*/}\n                    <Grid item xs={4}>\n                        <SelectInput source=\"type\" validate={required()} choices={\n                            Object.entries(eventTypeEnum).map(([id, name]) => ({id,name}))\n                        } />\n                    </Grid>\n                    <Grid item xs={4}>\n                            <ReferenceInput source=\"employee\" reference=\"employee\" label=\"Employee\" >\n                                <AutocompleteInput optionText=\"fullname\" validate={required()} filterToQuery={string => ({ fullname: {ilike: `${string}`}} )}/>\n                            </ReferenceInput>\n                    </Grid>\n                    <Grid item xs={4}>\n                        {formData.type === \"JOB\" && \n                            <ReferenceInput \n                            source=\"customer\" \n                            reference=\"customer\"  \n                            label=\"Customer\">\n                                <AutocompleteInput optionText=\"name\" validate={required()} filterToQuery={string => ({ name: {ilike: `${string}`}} )}/>\n                            </ReferenceInput>\n                        }\n                    </Grid>\n                </Grid>\n                <RruleInput source=\"rrule\" />\n            </Box>\n        }\n        </FormDataConsumer>\n        </SimpleForm>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}