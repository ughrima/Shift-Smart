{"ast":null,"code":"import * as React from 'react';\nimport { useMemo } from 'react';\nimport { useInRouterContext } from 'react-router-dom';\nimport { createHashHistory } from 'history';\nimport { HistoryRouter } from './HistoryRouter';\nimport { BasenameContextProvider } from './BasenameContextProvider';\n/**\n * Creates a react-router Router unless the app is already inside existing router.\n * Also creates a BasenameContext with the basename prop\n */\nexport var AdminRouter = function (_a) {\n  var history = _a.history,\n    _b = _a.basename,\n    basename = _b === void 0 ? '' : _b,\n    children = _a.children;\n  var isInRouter = useInRouterContext();\n  var Router = isInRouter ? DummyRouter : InternalRouter;\n  return React.createElement(BasenameContextProvider, {\n    basename: isInRouter ? basename : ''\n  }, React.createElement(Router, {\n    basename: basename,\n    history: history\n  }, children));\n};\nvar DummyRouter = function (_a) {\n  var children = _a.children;\n  return React.createElement(React.Fragment, null, children);\n};\nvar InternalRouter = function (_a) {\n  var children = _a.children,\n    history = _a.history;\n  var finalHistory = useMemo(function () {\n    return history || createHashHistory();\n  }, [history]);\n  return React.createElement(HistoryRouter, {\n    history: finalHistory\n  }, children);\n};","map":{"version":3,"names":["React","useMemo","useInRouterContext","createHashHistory","HistoryRouter","BasenameContextProvider","AdminRouter","_a","history","_b","basename","children","isInRouter","Router","DummyRouter","InternalRouter","createElement","Fragment","finalHistory"],"sources":["../../../src/routing/AdminRouter.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAAoBC,OAAO,QAAQ,OAAO;AAC1C,SAASC,kBAAkB,QAAQ,kBAAkB;AACrD,SAASC,iBAAiB,QAAiB,SAAS;AAEpD,SAASC,aAAa,QAA4B,iBAAiB;AACnE,SAASC,uBAAuB,QAAQ,2BAA2B;AAEnE;;;;AAIA,OAAO,IAAMC,WAAW,GAAG,SAAAA,CAACC,EAIT;MAHfC,OAAO,GAAAD,EAAA,CAAAC,OAAA;IACPC,EAAA,GAAAF,EAAA,CAAAG,QAAa;IAAbA,QAAQ,GAAAD,EAAA,cAAG,EAAE,GAAAA,EAAA;IACbE,QAAQ,GAAAJ,EAAA,CAAAI,QAAA;EAER,IAAMC,UAAU,GAAGV,kBAAkB,EAAE;EACvC,IAAMW,MAAM,GAAGD,UAAU,GAAGE,WAAW,GAAGC,cAAc;EAExD,OACIf,KAAA,CAAAgB,aAAA,CAACX,uBAAuB;IAACK,QAAQ,EAAEE,UAAU,GAAGF,QAAQ,GAAG;EAAE,GACzDV,KAAA,CAAAgB,aAAA,CAACH,MAAM;IAACH,QAAQ,EAAEA,QAAQ;IAAEF,OAAO,EAAEA;EAAO,GACvCG,QAAQ,CACJ,CACa;AAElC,CAAC;AAQD,IAAMG,WAAW,GAAG,SAAAA,CAACP,EAAqC;MAAnCI,QAAQ,GAAAJ,EAAA,CAAAI,QAAA;EAAgC,OAAAX,KAAA,CAAAgB,aAAA,CAAAhB,KAAA,CAAAiB,QAAA,QAAGN,QAAQ,CAAI;AAAf,CAAe;AAE9E,IAAMI,cAAc,GAAG,SAAAA,CAACR,EAKe;MAJnCI,QAAQ,GAAAJ,EAAA,CAAAI,QAAA;IACRH,OAAO,GAAAD,EAAA,CAAAC,OAAA;EAIP,IAAMU,YAAY,GAAGjB,OAAO,CAAC;IAAM,OAAAO,OAAO,IAAIL,iBAAiB,EAAE;EAA9B,CAA8B,EAAE,CAC/DK,OAAO,CACV,CAAC;EAEF,OAAOR,KAAA,CAAAgB,aAAA,CAACZ,aAAa;IAACI,OAAO,EAAEU;EAAY,GAAGP,QAAQ,CAAiB;AAC3E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}