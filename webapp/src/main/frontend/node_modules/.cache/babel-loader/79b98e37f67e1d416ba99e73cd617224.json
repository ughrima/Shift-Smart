{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { Chip, Stack, styled } from '@mui/material';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, RecordContextProvider, RecordRepresentation, ComponentPropType, useCreatePath } from 'ra-core';\nimport { LinearProgress } from '../layout/LinearProgress';\nimport { Link } from '../Link';\n/**\n * Iterator component to be used to display a list of entities, using a single field\n *\n * @example Display all the orders by the current customer as a list of chips\n * <ReferenceManyField reference=\"orders\" target=\"customer_id\">\n *     <SingleFieldList />\n * </ReferenceManyField>\n\n* @example Choose the field to be used as text label\n * <ReferenceManyField reference=\"orders\" target=\"customer_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"reference\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * @example Customize the link type\n * // By default, it includes a link to the <Edit> page of the related record\n * // (`/orders/:id` in the previous example).\n * // Set the linkType prop to \"show\" to link to the <Show> page instead.\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList linkType=\"show\">\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * @example Disable the link\n * // You can also prevent `<SingleFieldList>` from adding link to children by\n * // setting `linkType` to false.\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList linkType={false}>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n */\nexport var SingleFieldList = function (props) {\n  var className = props.className,\n    children = props.children,\n    empty = props.empty,\n    _a = props.linkType,\n    linkType = _a === void 0 ? 'edit' : _a,\n    _b = props.gap,\n    gap = _b === void 0 ? 1 : _b,\n    _c = props.direction,\n    direction = _c === void 0 ? 'row' : _c,\n    rest = __rest(props, [\"className\", \"children\", \"empty\", \"linkType\", \"gap\", \"direction\"]);\n  var _d = useListContext(props),\n    data = _d.data,\n    total = _d.total,\n    isLoading = _d.isLoading;\n  var resource = useResourceContext(props);\n  var createPath = useCreatePath();\n  if (isLoading === true) {\n    return React.createElement(LinearProgress, null);\n  }\n  if (data == null || data.length === 0 || total === 0) {\n    if (empty) {\n      return empty;\n    }\n    return null;\n  }\n  return React.createElement(Root, __assign({\n    gap: gap,\n    direction: direction,\n    className: className\n  }, sanitizeListRestProps(rest)), data.map(function (record, rowIndex) {\n    var _a, _b;\n    var resourceLinkPath = !linkType ? false : createPath({\n      resource: resource,\n      type: linkType,\n      id: record.id\n    });\n    if (resourceLinkPath) {\n      return React.createElement(RecordContextProvider, {\n        value: record,\n        key: (_a = record.id) !== null && _a !== void 0 ? _a : \"row\".concat(rowIndex)\n      }, React.createElement(Link, {\n        className: SingleFieldListClasses.link,\n        to: resourceLinkPath,\n        onClick: stopPropagation\n      }, children || React.createElement(DefaultChildComponent, {\n        clickable: true\n      })));\n    }\n    return React.createElement(RecordContextProvider, {\n      value: record,\n      key: (_b = record.id) !== null && _b !== void 0 ? _b : \"row\".concat(rowIndex)\n    }, children || React.createElement(DefaultChildComponent, null));\n  }));\n};\nSingleFieldList.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  component: ComponentPropType,\n  data: PropTypes.any,\n  empty: PropTypes.element,\n  // @ts-ignore\n  linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  resource: PropTypes.string,\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n};\nvar PREFIX = 'RaSingleFieldList';\nexport var SingleFieldListClasses = {\n  link: \"\".concat(PREFIX, \"-link\")\n};\nvar Root = styled(Stack, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})(function (_a) {\n  var _b;\n  var theme = _a.theme;\n  return _b = {\n    flexWrap: 'wrap'\n  }, _b[\"& .\".concat(SingleFieldListClasses.link)] = {\n    textDecoration: 'none',\n    '& > *': {\n      color: theme.palette.primary.main\n    }\n  }, _b;\n});\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) {\n  return e.stopPropagation();\n};\nvar DefaultChildComponent = function (_a) {\n  var clickable = _a.clickable;\n  return React.createElement(Chip, {\n    sx: {\n      cursor: 'inherit'\n    },\n    size: \"small\",\n    label: React.createElement(RecordRepresentation, null),\n    clickable: clickable\n  });\n};","map":{"version":3,"names":["React","Chip","Stack","styled","PropTypes","sanitizeListRestProps","useListContext","useResourceContext","RecordContextProvider","RecordRepresentation","ComponentPropType","useCreatePath","LinearProgress","Link","SingleFieldList","props","className","children","empty","_a","linkType","_b","gap","_c","direction","rest","__rest","_d","data","total","isLoading","resource","createPath","createElement","length","Root","__assign","map","record","rowIndex","resourceLinkPath","type","id","value","key","concat","SingleFieldListClasses","link","to","onClick","stopPropagation","DefaultChildComponent","clickable","propTypes","node","classes","object","string","component","any","element","oneOfType","bool","sx","arrayOf","func","PREFIX","name","overridesResolver","styles","root","theme","flexWrap","textDecoration","color","palette","primary","main","e","cursor","size","label"],"sources":["../../../src/list/SingleFieldList.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}