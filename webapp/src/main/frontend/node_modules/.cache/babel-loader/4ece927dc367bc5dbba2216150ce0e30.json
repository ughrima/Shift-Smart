{"ast":null,"code":"import{Grid}from'@mui/material';import*as React from'react';import{BooleanInput,DateInput,FormDataConsumer,NumberInput,RadioButtonGroupInput,SelectArrayInput,SelectInput,required}from'react-admin';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";/**\n * common: \n * - repeat every X (num) day/week/month/year (select)\n * - end: never/date/after X occurrences (radio)\n * \n * week:\n * - repeat on jan/feb/mar/... (multiple, default current day of week selected)\n * \n * month:\n * - every month the day X/every month the first/second/... (preset) X (preset)\n * \n * \n * @param param0 \n * @returns \n */const RruleInput=_ref=>{let{source}=_ref;return/*#__PURE__*/_jsx(FormDataConsumer,{children:_ref2=>{let{formData,scopedFormData,getSource}=_ref2;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(BooleanInput,{source:\"recurring\",label:formData.recurring?\"Ripeti ogni\":\"Ripeti\"})}),formData.recurring&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(NumberInput,{source:\"interval\",validate:required(),defaultValue:1,label:\"Intervallo\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(SelectInput,{source:`frequency`,style:{marginTop:\"0\"},validate:required(),label:\"Frequenza\",defaultValue:2,choices:[{id:3,name:'Days'},{id:2,name:'Weeks'},{id:1,name:'Months'},{id:0,name:'Years'}]})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[formData.freq===2?/*#__PURE__*/_jsx(SelectArrayInput,{fullWidth:true,label:\"Si ripete il\",source:`byweekday`,defaultValue:()=>{return formData.dtstart?new Date(formData.dtstart).getUTCDay()%7:null;},choices:[{id:0,name:'Domenica'},{id:1,name:'Lunedì'},{id:2,name:'Martedì'},{id:3,name:'Mercoledì'},{id:4,name:'Giovedì'},{id:5,name:'Venerdì'},{id:6,name:'Sabato'}]}):null,/*#__PURE__*/_jsx(RadioButtonGroupInput,{source:\"until_type\",label:\"Fine:\",sx:{'&':{width:\"100%\"},'& .MuiFormControlLabel-label':{width:\"100%\"}},row:false,defaultValue:0,choices:[{id:0},{id:1},{id:2}],optionText:choice=>{switch(choice.id){case 1://date\nreturn/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:\"Data:\"}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:formData.until_type==1?/*#__PURE__*/_jsx(DateInput,{fullWidth:true,source:\"until_date\",validate:required()}):\"\"})]});case 2://occurrences\nreturn/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:\"Dopo:\"}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:formData.until_type==2?/*#__PURE__*/_jsx(NumberInput,{fullWidth:true,source:\"until_occurrences\",validate:required(),defaultValue:1}):\"\"})]});default:return/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,alignItems:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:\"Mai:\"})});}}})]})]})]})});}});};export default RruleInput;","map":{"version":3,"names":["Grid","React","BooleanInput","DateInput","FormDataConsumer","NumberInput","RadioButtonGroupInput","SelectArrayInput","SelectInput","required","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RruleInput","_ref","source","children","_ref2","formData","scopedFormData","getSource","container","spacing","item","xs","label","recurring","validate","defaultValue","style","marginTop","choices","id","name","freq","fullWidth","dtstart","Date","getUTCDay","sx","width","row","optionText","choice","alignItems","until_type"],"sources":["/home/agrima/Desktop/curr-projects/Shift-Smart/webapp/src/main/frontend/src/components/RruleInput.tsx"],"sourcesContent":["import { Grid } from '@mui/material';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { BooleanInput, DateInput, FormDataConsumer, NumberInput, RadioButtonGroupInput, SelectArrayInput, SelectInput, required } from 'react-admin';\n\ninterface RruleInputProps {\n  source: string;\n}\n\n/**\n * common: \n * - repeat every X (num) day/week/month/year (select)\n * - end: never/date/after X occurrences (radio)\n * \n * week:\n * - repeat on jan/feb/mar/... (multiple, default current day of week selected)\n * \n * month:\n * - every month the day X/every month the first/second/... (preset) X (preset)\n * \n * \n * @param param0 \n * @returns \n */\nconst RruleInput: React.FC<RruleInputProps> = ({ source }) => (\n  <FormDataConsumer>\n    {({ formData, scopedFormData, getSource }) => {\n      return (\n        <>\n        <Grid container spacing={2}>\n            <Grid item xs={4}>\n              <BooleanInput source={\"recurring\"} label={formData.recurring ? \"Ripeti ogni\" : \"Ripeti\"} />\n            </Grid>\n            {formData.recurring && \n              <>\n              <Grid item xs={4}>\n                  <NumberInput source={\"interval\"} validate={required()} defaultValue={1} label=\"Intervallo\" />\n              </Grid>\n              <Grid item xs={4}>\n                <SelectInput\n                  source={`frequency`}\n                  style={{\n                    marginTop: \"0\"\n                  }}\n                  validate={required()}\n                  label=\"Frequenza\"\n                  defaultValue={2}\n                  choices={[\n                    { id: 3, name: 'Days' },\n                    { id: 2, name: 'Weeks' },\n                    { id: 1, name: 'Months' },\n                    { id: 0, name: 'Years' },\n                  ]}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                {formData.freq === 2 ? <SelectArrayInput\n                  fullWidth\n                  label=\"Si ripete il\"\n                  source={`byweekday`}\n                  defaultValue={() => {\n                    return formData.dtstart ?  (new Date(formData.dtstart)).getUTCDay() % 7 : null\n                  }}\n                  choices={[\n                    { id: 0, name: 'Domenica' },\n                    { id: 1, name: 'Lunedì' },\n                    { id: 2, name: 'Martedì' },\n                    { id: 3, name: 'Mercoledì' },\n                    { id: 4, name: 'Giovedì' },\n                    { id: 5, name: 'Venerdì' },\n                    { id: 6, name: 'Sabato' },\n                  ]}\n                /> : null }\n                <RadioButtonGroupInput source=\"until_type\" label={\"Fine:\"} sx={{\n                    '&': {width: \"100%\"},\n                    '& .MuiFormControlLabel-label': {width: \"100%\"}\n                  }} row={false} defaultValue={0}\n                  choices={[\n                      { id: 0},\n                      { id: 1},\n                      { id: 2},\n                  ]} optionText={(choice) => {\n                    switch(choice.id) {\n                      case 1: //date\n                        return (\n                          <Grid container spacing={2}  alignItems=\"center\" >\n                            <Grid item xs={4}>\n                              {\"Data:\"}\n                            </Grid>\n                            <Grid item xs={8}>\n                               {formData.until_type == 1 ? <DateInput fullWidth source={\"until_date\"} validate={required()}  /> : \"\" }\n                            </Grid>\n                          </Grid>\n                          )\n                      case 2: //occurrences\n                        return (\n                          <Grid container spacing={2} alignItems=\"center\">\n                            <Grid item xs={4}>\n                              {\"Dopo:\"}\n                            </Grid>\n                            <Grid item xs={8}>\n                              {formData.until_type == 2 ? <NumberInput fullWidth source={\"until_occurrences\"} validate={required()}  defaultValue={1} /> : \"\"}\n                            </Grid>\n                          </Grid>\n                        )\n                      default:\n                        return (\n                          <Grid container spacing={2} alignItems=\"center\">\n                            <Grid item xs={12}>\n                              {\"Mai:\"}\n                            </Grid>\n                          </Grid>\n                        )\n                    }\n                  }} />\n                </Grid>\n                </>\n              }\n            </Grid>\n          </>\n        );\n      }}\n    </FormDataConsumer>\n  );\n  \n  RruleInput.propTypes = {\n    source: PropTypes.string.isRequired,\n  };\n  \n  export default RruleInput;\n\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}