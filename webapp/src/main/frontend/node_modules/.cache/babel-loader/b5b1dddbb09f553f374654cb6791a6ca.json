{"ast":null,"code":"import * as React from 'react';\nimport { useMemo } from 'react';\nimport { ThemeProvider as MuiThemeProvider, createTheme } from '@mui/material/styles';\nimport { useMediaQuery } from '@mui/material';\nimport { useTheme } from './useTheme';\nimport { useThemesContext } from './useThemesContext';\n/**\n * This sets the Material UI theme based on the preferred theme type.\n *\n * @param props\n * @param props.children The children of the component.\n * @param {ThemeOptions} props.theme The initial theme. Optional, use the one from the context if not provided.\n *\n * @example\n *\n * import { ThemesContext, ThemeProvider } from 'react-admin';\n *\n * const App = () => (\n *    <ThemesContext.Provider value={{ lightTheme, darkTheme }}>\n *      <ThemeProvider>\n *        <Button>Test</Button>\n *      </ThemeProvider>\n *   </ThemesContext.Provider>\n * );\n */\nexport var ThemeProvider = function (_a) {\n  var children = _a.children,\n    themeOverride = _a.theme;\n  var _b = useThemesContext(),\n    lightTheme = _b.lightTheme,\n    darkTheme = _b.darkTheme,\n    defaultTheme = _b.defaultTheme;\n  var prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', {\n    noSsr: true\n  });\n  var mode = useTheme(defaultTheme || (prefersDarkMode && darkTheme ? 'dark' : 'light'))[0];\n  var themeValue = useMemo(function () {\n    try {\n      return createTheme(typeof mode === 'object' ? mode // FIXME: legacy useTheme, to be removed in v5\n      : mode === 'dark' ? darkTheme : lightTheme || themeOverride);\n    } catch (e) {\n      console.warn('Failed to reuse custom theme from store', e);\n      return createTheme();\n    }\n  }, [mode, themeOverride, lightTheme, darkTheme]);\n  return React.createElement(MuiThemeProvider, {\n    theme: themeValue\n  }, children);\n};","map":{"version":3,"names":["React","useMemo","ThemeProvider","MuiThemeProvider","createTheme","useMediaQuery","useTheme","useThemesContext","_a","children","themeOverride","theme","_b","lightTheme","darkTheme","defaultTheme","prefersDarkMode","noSsr","mode","themeValue","e","console","warn","createElement"],"sources":["../../../src/theme/ThemeProvider.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAAoBC,OAAO,QAAQ,OAAO;AAC1C,SACIC,aAAa,IAAIC,gBAAgB,EACjCC,WAAW,QACR,sBAAsB;AAC7B,SAASC,aAAa,QAAQ,eAAe;AAG7C,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,gBAAgB,QAAQ,oBAAoB;AAErD;;;;;;;;;;;;;;;;;;;AAmBA,OAAO,IAAML,aAAa,GAAG,SAAAA,CAACM,EAGT;MAFjBC,QAAQ,GAAAD,EAAA,CAAAC,QAAA;IACDC,aAAa,GAAAF,EAAA,CAAAG,KAAA;EAEd,IAAAC,EAAA,GAA0CL,gBAAgB,EAAE;IAA1DM,UAAU,GAAAD,EAAA,CAAAC,UAAA;IAAEC,SAAS,GAAAF,EAAA,CAAAE,SAAA;IAAEC,YAAY,GAAAH,EAAA,CAAAG,YAAuB;EAElE,IAAMC,eAAe,GAAGX,aAAa,CAAC,8BAA8B,EAAE;IAClEY,KAAK,EAAE;GACV,CAAC;EACK,IAAAC,IAAI,GAAIZ,QAAQ,CACnBS,YAAY,KAAKC,eAAe,IAAIF,SAAS,GAAG,MAAM,GAAG,OAAO,CAAC,CACpE,GAFU;EAIX,IAAMK,UAAU,GAAGlB,OAAO,CAAC;IACvB,IAAI;MACA,OAAOG,WAAW,CACd,OAAOc,IAAI,KAAK,QAAQ,GAClBA,IAAI,CAAC;MAAA,EACLA,IAAI,KAAK,MAAM,GACfJ,SAAS,GACTD,UAAU,IAAIH,aAAa,CACpC;KACJ,CAAC,OAAOU,CAAC,EAAE;MACRC,OAAO,CAACC,IAAI,CAAC,yCAAyC,EAAEF,CAAC,CAAC;MAC1D,OAAOhB,WAAW,EAAE;;EAE5B,CAAC,EAAE,CAACc,IAAI,EAAER,aAAa,EAAEG,UAAU,EAAEC,SAAS,CAAC,CAAC;EAEhD,OAAOd,KAAA,CAAAuB,aAAA,CAACpB,gBAAgB;IAACQ,KAAK,EAAEQ;EAAU,GAAGV,QAAQ,CAAoB;AAC7E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}