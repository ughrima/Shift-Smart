{"ast":null,"code":"import * as React from 'react';\nimport { useState } from 'react';\nimport { useLocaleState, useLocales } from 'ra-core';\nimport { Box, Button, Menu, MenuItem, styled } from '@mui/material';\nimport LanguageIcon from '@mui/icons-material/Translate';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n/**\n * Language selector. Changes the locale in the app and persists it in\n * preferences so that the app opens with the right locale in the future.\n *\n * Uses i18nProvider.getLocales() to get the list of available locales.\n *\n * @example\n * import { AppBar, TitlePortal, LocalesMenuButton } from 'react-admin';\n *\n * const MyAppBar = () => (\n *     <AppBar>\n *         <TitlePortal />\n *         <LocalesMenuButton />\n *     </AppBar>\n * );\n */\nexport var LocalesMenuButton = function (props) {\n  var _a = props.icon,\n    icon = _a === void 0 ? DefaultIcon : _a,\n    languagesProp = props.languages;\n  var _b = useState(null),\n    anchorEl = _b[0],\n    setAnchorEl = _b[1];\n  var languages = useLocales({\n    locales: languagesProp\n  });\n  var _c = useLocaleState(),\n    locale = _c[0],\n    setLocale = _c[1];\n  var getNameForLocale = function (locale) {\n    var language = languages.find(function (language) {\n      return language.locale === locale;\n    });\n    return language ? language.name : '';\n  };\n  var changeLocale = function (locale) {\n    return function () {\n      setLocale(locale);\n      setAnchorEl(null);\n    };\n  };\n  var handleLanguageClick = function (event) {\n    setAnchorEl(event.currentTarget);\n  };\n  var handleClose = function () {\n    setAnchorEl(null);\n  };\n  return React.createElement(Root, {\n    component: \"span\"\n  }, React.createElement(Button, {\n    color: \"inherit\",\n    variant: \"text\",\n    \"aria-controls\": \"simple-menu\",\n    \"aria-label\": \"\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleLanguageClick,\n    startIcon: icon,\n    endIcon: React.createElement(ExpandMoreIcon, {\n      fontSize: \"small\"\n    })\n  }, getNameForLocale(locale)), React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose\n  }, languages.map(function (language) {\n    return React.createElement(MenuItem, {\n      key: language.locale,\n      onClick: changeLocale(language.locale),\n      selected: language.locale === locale\n    }, language.name);\n  })));\n};\nvar DefaultIcon = React.createElement(LanguageIcon, null);\nvar PREFIX = 'RaLocalesMenuButton';\nexport var LocalesMenuButtonClasses = {};\nvar Root = styled(Box, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})({});","map":{"version":3,"names":["React","useState","useLocaleState","useLocales","Box","Button","Menu","MenuItem","styled","LanguageIcon","ExpandMoreIcon","LocalesMenuButton","props","_a","icon","DefaultIcon","languagesProp","languages","_b","anchorEl","setAnchorEl","locales","_c","locale","setLocale","getNameForLocale","language","find","name","changeLocale","handleLanguageClick","event","currentTarget","handleClose","createElement","Root","component","color","variant","onClick","startIcon","endIcon","fontSize","id","keepMounted","open","Boolean","onClose","map","key","selected","PREFIX","LocalesMenuButtonClasses","overridesResolver","styles","root"],"sources":["../../../src/button/LocalesMenuButton.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}