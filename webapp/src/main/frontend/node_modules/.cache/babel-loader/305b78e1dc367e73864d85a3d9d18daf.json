{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport { InputAdornment } from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport { FormProvider, useForm } from 'react-hook-form';\nimport { TextInput } from '../../input';\n/**\n * Form and search input for doing a full-text search filter.\n *\n * Triggers a search on change (with debounce).\n *\n * @example\n *\n * const FilterPanel = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterLiveSearch source=\"title\" />\n *         </CardContent>\n *     </Card>\n * );\n */\nexport var FilterLiveSearch = memo(function (props) {\n  var _a = useListFilterContext(),\n    filterValues = _a.filterValues,\n    setFilters = _a.setFilters;\n  var translate = useTranslate();\n  var _b = props.source,\n    source = _b === void 0 ? 'q' : _b,\n    _c = props.label,\n    label = _c === void 0 ? translate('ra.action.search') : _c,\n    placeholder = props.placeholder,\n    rest = __rest(props, [\"source\", \"label\", \"placeholder\"]);\n  var handleChange = function (event) {\n    var _a;\n    if (event.target) {\n      setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[source] = event.target.value, _a)), null);\n    } else {\n      var _b = filterValues,\n        _c = source,\n        _1 = _b[_c],\n        filters = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n      setFilters(filters, null, false);\n    }\n  };\n  var initialValues = useMemo(function () {\n    var _a;\n    return _a = {}, _a[source] = filterValues[source], _a;\n  }, [filterValues, source]);\n  var form = useForm({\n    defaultValues: initialValues\n  });\n  var onSubmit = function (e) {\n    e.preventDefault();\n  };\n  return React.createElement(FormProvider, __assign({}, form), React.createElement(\"form\", {\n    onSubmit: onSubmit\n  }, React.createElement(TextInput, __assign({\n    resettable: true,\n    helperText: false,\n    source: source,\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\"\n      }, React.createElement(SearchIcon, {\n        color: \"disabled\"\n      }))\n    },\n    onChange: handleChange,\n    size: \"small\",\n    label: rest.hiddenLabel ? false : label,\n    placeholder: placeholder !== null && placeholder !== void 0 ? placeholder : rest.hiddenLabel ? label : undefined\n  }, rest))));\n});","map":{"version":3,"names":["React","memo","useMemo","InputAdornment","SearchIcon","useTranslate","useListFilterContext","FormProvider","useForm","TextInput","FilterLiveSearch","props","_a","filterValues","setFilters","translate","_b","source","_c","label","placeholder","rest","__rest","handleChange","event","target","__assign","value","_1","filters","initialValues","form","defaultValues","onSubmit","e","preventDefault","createElement","resettable","helperText","InputProps","endAdornment","position","color","onChange","size","hiddenLabel","undefined"],"sources":["../../../../src/list/filter/FilterLiveSearch.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}