{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useContext, useMemo } from 'react';\nimport { useList } from '../../controller';\nimport { ChoicesContext } from './ChoicesContext';\nexport var useChoicesContext = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var context = useContext(ChoicesContext);\n  var _a = useList({\n      data: options.choices,\n      isLoading: options.isLoading,\n      // When not in a ChoicesContext, paginating does not make sense (e.g. AutocompleteInput).\n      perPage: Infinity\n    }),\n    data = _a.data,\n    list = __rest(_a, [\"data\"]);\n  var result = useMemo(function () {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n    // Props take precedence over context.\n    if (options.choices || !context) {\n      return {\n        allChoices: data,\n        availableChoices: (_a = options.availableChoices) !== null && _a !== void 0 ? _a : data,\n        selectedChoices: (_b = options.selectedChoices) !== null && _b !== void 0 ? _b : data,\n        displayedFilters: (_c = options.selectedChoices) !== null && _c !== void 0 ? _c : list.displayedFilters,\n        error: options.error,\n        filter: (_d = options.filter) !== null && _d !== void 0 ? _d : list.filter,\n        filterValues: (_e = options.filterValues) !== null && _e !== void 0 ? _e : list.filterValues,\n        hasNextPage: (_f = options.hasNextPage) !== null && _f !== void 0 ? _f : list.hasNextPage,\n        hasPreviousPage: (_g = options.hasPreviousPage) !== null && _g !== void 0 ? _g : list.hasPreviousPage,\n        hideFilter: (_h = options.hideFilter) !== null && _h !== void 0 ? _h : list.hideFilter,\n        isLoading: list.isLoading,\n        isFetching: list.isFetching,\n        page: (_j = options.page) !== null && _j !== void 0 ? _j : list.page,\n        perPage: (_k = options.perPage) !== null && _k !== void 0 ? _k : list.perPage,\n        refetch: (_l = options.refetch) !== null && _l !== void 0 ? _l : list.refetch,\n        resource: (_m = options.resource) !== null && _m !== void 0 ? _m : list.resource,\n        setFilters: (_o = options.setFilters) !== null && _o !== void 0 ? _o : list.setFilters,\n        setPage: (_p = options.setPage) !== null && _p !== void 0 ? _p : list.setPage,\n        setPerPage: (_q = options.setPerPage) !== null && _q !== void 0 ? _q : list.setPerPage,\n        setSort: (_r = options.setSort) !== null && _r !== void 0 ? _r : list.setSort,\n        showFilter: (_s = options.showFilter) !== null && _s !== void 0 ? _s : list.showFilter,\n        sort: (_t = options.sort) !== null && _t !== void 0 ? _t : list.sort,\n        source: options.source,\n        total: (_u = options.total) !== null && _u !== void 0 ? _u : list.total,\n        isFromReference: false\n      };\n    }\n    return context;\n  }, [context, data, list, options]);\n  return result;\n};","map":{"version":3,"names":["useContext","useMemo","useList","ChoicesContext","useChoicesContext","options","context","_a","data","choices","isLoading","perPage","Infinity","list","__rest","result","allChoices","availableChoices","selectedChoices","_b","displayedFilters","_c","error","filter","_d","filterValues","_e","hasNextPage","_f","hasPreviousPage","_g","hideFilter","_h","isFetching","page","_j","_k","refetch","_l","resource","_m","setFilters","_o","setPage","_p","setPerPage","_q","setSort","_r","showFilter","_s","sort","_t","source","total","_u","isFromReference"],"sources":["../../../../src/form/choices/useChoicesContext.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}