(this["webpackJsonpess-ui"]=this["webpackJsonpess-ui"]||[]).push([[0],{632:function(e,t,a){},764:function(e,t,a){},791:function(e,t){},796:function(e,t){},798:function(e,t){},828:function(e,t){},830:function(e,t){},831:function(e,t){},836:function(e,t){},838:function(e,t){},858:function(e,t){},874:function(e,t){},877:function(e,t){},881:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(491),n=a.n(s),i=(a(632),a(1017)),o=a(1015),l=a(1016),c=a(286);var d={...a(249).a,resources:{employee:{name:"Employee |||| Employees",fields:{number:"Number",active:"Is active?",color:"Color",name:"Name",surname:"Surname",phone:"Phone number",email:"Email address"}},customer:{name:"Cliente |||| Clienti",fields:{vat:"VAT number",name:"Name",email:"Email address",phone:"Phone address",zipcode:"ZIP code",city:"City",website:"Website"}}},ess:{calendar:{name:"Calendar",event:{error:"Something went wrong.",error_create:"Error on event creation",success_create:"Event created",error_update:"Error on event update",success_update:"Event updated",error_delete:"Error on event delete",success_delete:"Event removed",recurring:{thisev:"This event",thisandfoll:"This and the following events"}},calendarlist:{number:"Number"}},users:{password_update:{btn_label:"Change Password",updated:"Password changed successfully!",updated_error:"Something went wrong while changing the password.",field_label:"New password"}},summary:{name:"Report"}}};var u={ra:{action:{add_filter:"Aggiungi un filtro",add:"Aggiungi",back:"Indietro",bulk_actions:"%{smart_count} selezionati",cancel:"Annulla",clear_array_input:"Clear the list",clear_input_value:"Svuota il modulo",clone:"Duplica",confirm:"Conferma",create:"Crea",create_item:"Create %{item}",delete:"Cancella",edit:"Modifica",export:"Esporta",list:"Elenco",refresh:"Aggiorna",remove_filter:"Rimuovi questo filtro",remove_all_filters:"Remove all filters",remove:"Rimuovi",save:"Salva",search:"Ricerca",select_all:"Select all",select_row:"Select this row",show:"Mostra",sort:"Ordina",undo:"Annulla",unselect:"Annulla selezione",expand:"Espandi",close:"Chiudi",open_menu:"Apri il menu",close_menu:"Chiudi il menu",update:"Update",move_up:"Move up",move_down:"Move down",open:"Open",toggle_theme:"Toggle Theme",select_columns:"Columns",update_application:"Reload Application"},boolean:{true:"Si",false:"No",null:"\u2003"},page:{create:"Aggiungi %{name}",dashboard:"Cruscotto",edit:"%{name} %{id}",error:"Qualcosa non ha funzionato",list:"%{name}",loading:"Caricamento in corso",not_found:"Non trovato",show:"%{name} %{id}",empty:"Nessun %{name} ancora.",invite:"Vuoi aggiungerne uno?"},input:{file:{upload_several:"Trascina i files da caricare, oppure clicca per selezionare.",upload_single:"Trascina il file da caricare, oppure clicca per selezionarlo."},image:{upload_several:"Trascina le immagini da caricare, oppure clicca per selezionarle.",upload_single:"Trascina l'immagine da caricare, oppure clicca per selezionarla."},references:{all_missing:"Impossibile trovare i riferimenti associati.",many_missing:"Almeno uno dei riferimenti associati non sembra pi\xf9 disponibile.",single_missing:"Il riferimento associato non sembra pi\xf9 disponibile."},password:{toggle_visible:"Nascondi la password",toggle_hidden:"Mostra la password"}},message:{about:"Informazioni",are_you_sure:"Sei sicuro ?",auth_error:"A error occurred while validating the authentication token.",bulk_delete_content:"Sei sicuro di voler cancellare questo %{name}? |||| Sei sicuro di voler eliminare questi %{smart_count}?",bulk_delete_title:"Delete %{name} |||| Delete %{smart_count} %{name} items",bulk_update_content:"Are you sure you want to update this %{name}? |||| Are you sure you want to update these %{smart_count} items?",bulk_update_title:"Update %{name} |||| Update %{smart_count} %{name}",clear_array_input:"Are you sure you want to clear the whole list?",delete_content:"Are you sure you want to delete this item?",delete_title:"Cancella %{name} #%{id}",details:"Dettagli",error:"Un errore locale \xe8 occorso e la tua richiesta non \xe8 stata completata.",invalid_form:"Il modulo non \xe8 valido. Si prega di verificare la presenza di errori.",loading:"La pagina si sta caricando, solo un momento per favore",no:"No",not_found:"Hai inserito un URL errato, oppure hai cliccato un link errato",yes:"Si",unsaved_changes:"Alcune modifiche non sono state salvate. Sei sicuro di volerle ignorare?"},navigation:{no_results:"Nessun risultato trovato",no_more_results:"La pagina numero %{page} \xe8 fuori dell'intervallo. Prova la pagina precedente.",page_out_of_boundaries:"Il numero di pagina %{page} \xe8 fuori dei limiti",page_out_from_end:"Fine della paginazione",page_out_from_begin:"Il numero di pagina deve essere maggiore di 1",page_range_info:"%{offsetBegin}-%{offsetEnd} di %{total}",partial_page_range_info:"%{offsetBegin}-%{offsetEnd} of more than %{offsetEnd}",current_page:"Page %{page}",page:"Go to page %{page}",first:"Go to first page",last:"Go to last page",page_rows_per_page:"Righe per pagina",next:"Successivo",previous:"Precedente",skip_nav:"Vai al contenuto"},sort:{sort_by:"Ordina per %{field} %{order}",ASC:"cresente",DESC:"decrescente"},auth:{auth_check_error:"\xc8 necessario accedere per continuare",user_menu:"Profilo",username:"Nome utente",password:"Password",sign_in:"Login",sign_in_error:"Autenticazione fallita, riprovare.",logout:"Disconnessione"},notification:{updated:"Record aggiornato |||| %{smart_count} records aggiornati",created:"Record creato",deleted:"Record eliminato |||| %{smart_count} records eliminati",bad_item:"Record errato",item_doesnt_exist:"Record inesistente",http_error:"Errore di comunicazione con il server dati",data_provider_error:"Errore del data provider. Controlla la console per i dettagli.",i18n_error:"Traduzioni non trovate per il linguaggio specificato",canceled:"Azione annullata",logged_out:"La sessione \xe8 stata terminata, si prega di ripetere l'autenticazione.",not_authorized:"You're not authorized to access this resource.",application_update_available:"A new version is available."},validation:{required:"Campo obbligatorio",minLength:"Deve essere lungo %{min} caratteri almeno",maxLength:"Deve essere lungo %{max} caratteri al massimo",minValue:"Deve essere almeno %{min}",maxValue:"Deve essere al massimo %{max}",number:"Deve essere un numero",email:"Deve essere un valido indirizzo email",oneOf:"Deve essere uno di: %{options}",regex:"Deve rispettare il formato (espressione regolare): %{pattern}"},saved_queries:{label:"Saved queries",query_name:"Query name",new_label:"Save current query...",new_dialog_title:"Save current query as",remove_label:"Remove saved query",remove_label_with_name:'Remove query "%{name}"',remove_dialog_title:"Remove saved query?",remove_message:"Are you sure you want to remove that item from your list of saved queries?",help:"Filter the list and save this query for later"},configurable:{customize:"Customize",configureMode:"Configure this page",inspector:{title:"Inspector",content:"Hover the application UI elements to configure them",reset:"Reset Settings",hideAll:"Hide All",showAll:"Show All"},Datagrid:{title:"Datagrid",unlabeled:"Unlabeled column #%{column}"},SimpleForm:{title:"Form",unlabeled:"Unlabeled input #%{input}"},SimpleList:{title:"List",primaryText:"Primary text",secondaryText:"Secondary text",tertiaryText:"Tertiary text"}}},resources:{employee:{name:"Dipendente |||| Dipendenti",fields:{number:"Numero",active:"Attivo?",color:"Colore",name:"Nome",surname:"Cognome",phone:"Numero di telefono",email:"Indirizzo email"}},customer:{name:"Cliente |||| Clienti",fields:{vat:"P.IVA/CF",name:"Nome",email:"Indirizzo email",phone:"Numero di telefono",zipcode:"CAP",city:"Comune",website:"Sito WEB"}}},ess:{calendar:{name:"Calendario",event:{error:"Qualcosa \xe8 andato storto.",error_create:"Errore durante la creazione dell'evento",success_create:"Evento creato correttamente",error_update:"Errore durante l'aggiornamento dell'evento",success_update:"Evento aggiornato correttamente",error_delete:"Errore durante la cancellazione dell'evento",success_delete:"Evento eliminato correttamente",recurring:{thisev:"Questo evento",thisandfoll:"Questo e gli eventi futuri"}},calendarlist:{number:"Matricola"}},users:{password_update:{btn_label:"Modifica Password",updated:"Password modificata con successo!",updated_error:"C'\xe8 stato un'errore nell'aggiornare la password.",field_label:"Nuova password"}},summary:{name:"Report"}}},j=a(12),b=a(564);const m=Object(b.a)({palette:{primary:{main:"#005F73"},secondary:{main:"#CA6702"},info:{main:"#0A9396"}}});var p=a(357),h=a(259),x=a(568),O=a(1036),v=a(574),g=a(906),f=a(57),y=a(1022),_=a(1037),w=a(10),S=a(30),C=a(60),T=a(492),E=a(567),P=a(366),k=a(506),D=a(498),W=a.n(D),I=a(499),R=a.n(I),z=a(500),A=a.n(z),N=a(501),F=a.n(N),L=a(983),$=a(2);var q=()=>{const e=Object(j.p)(),t=Object(C.a)(),{permissions:a}=Object(T.a)();let r="/";return Object(w.q)("/customer/*",e.pathname)?r="/customer":Object(w.q)("/employee/*",e.pathname)?r="/employee":Object(w.q)("/calendar/*",e.pathname)?r="/calendar":Object(w.q)("/user/*",e.pathname)?r="/user":Object(w.q)("/summary/*",e.pathname)&&(r="/summary"),Object($.jsx)(O.a,{position:"static",color:"primary",children:Object($.jsx)(v.a,{variant:"dense",children:Object($.jsxs)(g.a,{flex:1,display:"flex",justifyContent:"space-between",children:[Object($.jsxs)(g.a,{display:"flex",alignItems:"center",children:[Object($.jsx)("img",{alt:"Shift Scheduler Logo",src:"./logo.png",height:"32",style:{padding:"5px",paddingRight:"10px"}}),Object($.jsx)(f.a,{component:"span",variant:"h5",children:"Shift Scheduler"})]}),Object($.jsx)(g.a,{children:Object($.jsxs)(y.a,{value:r,"aria-label":"Navigation Tabs",indicatorColor:"secondary",textColor:"inherit",style:{height:"48px"},children:[Object($.jsx)(_.a,{label:t("ess.calendar.name"),icon:Object($.jsx)(W.a,{}),iconPosition:"start",component:S.a,to:"/calendar",sx:{minHeight:"48px",height:"48px"},value:"/calendar"}),Object($.jsx)(_.a,{label:t("ess.summary.name"),icon:Object($.jsx)(R.a,{}),iconPosition:"start",component:S.a,sx:{minHeight:"48px",height:"48px"},to:"/summary",value:"/summary"}),Object($.jsx)(_.a,{label:t("resources.customer.name",{smart_count:2}),icon:Object($.jsx)(A.a,{}),iconPosition:"start",component:S.a,sx:{minHeight:"48px",height:"48px"},to:"/customer",value:"/customer"}),Object($.jsx)(_.a,{label:t("resources.employee.name",{smart_count:2}),icon:Object($.jsx)(F.a,{}),iconPosition:"start",component:S.a,sx:{minHeight:"48px",height:"48px"},to:"/employee",value:"/employee"})]})}),Object($.jsxs)(g.a,{display:"flex",sx:{marginTop:"4px"},children:[Object($.jsx)(L.a,{languages:[{locale:"en",name:"English"},{locale:"it",name:"Italiano"}]}),Object($.jsx)(E.a,{sx:{"& .RaLoadingIndicator-loader":{marginTop:2}}}),Object($.jsxs)(P.a,{children:[Object($.jsx)(k.a,{}),(null===a||void 0===a?void 0:a.includes("ROLE_ADMIN"))&&Object($.jsx)(_.a,{label:"Users",component:S.a,to:"/user",value:"/user"})]})]})]})})})};var M=e=>{const{children:t}=e;return Object($.jsxs)("div",{style:{display:"flex",flexFlow:"column",height:"100vh"},children:[Object($.jsx)(p.b,{}),Object($.jsx)(q,{}),Object($.jsx)(h.ErrorBoundary,{FallbackComponent:x.a,children:Object($.jsx)("div",{style:{margin:"0 40px",height:"100vh",display:"flex",flexFlow:"column"},children:t})})]})},J=a(106);const V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J.a.fetchJson;return{getList:(a,r)=>{const{page:s,perPage:n}=r.pagination,{field:i,order:o}=r.sort,l=r.filter;let c={sortBy:i,sortDir:o,page:s-1,limit:n};return Object.keys(l).length>0&&(c.filters=l),t(`${e}/${a}/list`,{method:"POST",body:JSON.stringify(c)}).then((e=>{let{headers:t,json:a}=e;return{data:a.data,total:a.count}}))},getOne:(a,r)=>t(`${e}/${a}/${r.id}`).then((e=>{let{json:t}=e;return{data:t}})),getMany:(a,r)=>{const s={filters:{id:{in:r.ids}}};return t(`${e}/${a}/list`,{method:"POST",body:JSON.stringify(s)}).then((e=>{let{headers:t,json:a}=e;return{data:a.data,total:a.count}}))},getManyReference:(a,r)=>{const{page:s,perPage:n}=r.pagination,{field:i,order:o}=r.sort,l=r.filter;let c={sortBy:i,sortDir:o,page:s-1,limit:n};return Object.keys(l).length>0&&(c.filters=l),t(`${e}/${a}/list`,{method:"POST",body:JSON.stringify(c)}).then((e=>{let{headers:t,json:a}=e;return{data:a.data,total:a.count}}))},update:(a,r)=>t(`${e}/${a}/${r.id}`,{method:"PUT",body:JSON.stringify({...r.data,id:r.id})}).then((e=>{let{json:t}=e;return{data:t}})),updateMany:(a,r)=>Promise.all(r.ids.map((s=>t(`${e}/${a}/${s}`,{method:"PUT",body:JSON.stringify({...r.data,id:s})})))).then((e=>({data:e.map((e=>{let{json:t}=e;return t.id}))}))),create:(a,r)=>t(`${e}/${a}`,{method:"POST",body:JSON.stringify(r.data)}).then((e=>{let{json:t}=e;return{data:t}})),delete:(a,r)=>t(`${e}/${a}/${r.id}`,{method:"DELETE",headers:new Headers({"Content-Type":"text/plain"})}).then((e=>{let{json:t}=e;return{data:t}})),deleteMany:(a,r)=>Promise.all(r.ids.map((r=>t(`${e}/${a}/${r}`,{method:"DELETE",headers:new Headers({"Content-Type":"text/plain"})})))).then((e=>({data:e.map((e=>{let{json:t}=e;return t.id}))})))}}("../api",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return J.a.fetchJson(e,t)})),H={...V,getSystemConfigs:()=>fetch("../api/sysconfig",{method:"GET",credentials:"include"}).then((e=>e.json())),getTimelineData:e=>fetch("../api/event/in",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())),updatePassword:e=>fetch("../api/user/password/"+e.user,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e.password})}).then((e=>e.json())),getTimelineGroups:()=>fetch("../api/employee",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((e=>e.json()))},U={login:e=>{let{username:t,password:a}=e;const r=new Request("../api/login",{method:"POST",body:JSON.stringify({username:t,password:a}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then((e=>e.status<200||e.status>=300?Promise.reject(e.statusText):e.json())).then((e=>(localStorage.setItem("roles",e.roles),Promise.resolve())))},logout:()=>{const e=new Request("../api/logout",{method:"POST",headers:new Headers({"Content-Type":"application/json"})});return fetch(e).then((e=>e.status<200||e.status>=300?Promise.resolve({redirectTo:"/login"}):e.json())).then((e=>{let{token:t}=e;return Promise.resolve()}))},checkError:e=>{let{status:t}=e;return 401===t||403===t?(localStorage.removeItem("username"),Promise.reject()):Promise.resolve()},checkAuth:()=>{const e=new Request("../api/session",{method:"GET",headers:new Headers({"Content-Type":"application/json"})});return fetch(e).then((e=>e.status<200||e.status>=300?Promise.reject():Promise.resolve()))},getPermissions:()=>{const e=localStorage.getItem("roles");return e?Promise.resolve(e):Promise.reject()}};var B=a(521),G=a.n(B),Q=a(520),Y=a.n(Q),K=a(1031),Z=a(1041),X=a(915),ee=a(210),te=a(1032),ae=a(354),re=a(991),se=a(515),ne=a(899),ie=a(1042),oe=a(995),le=a(522),ce=a(1043),de=a(525);function ue(){const[e,t]=Object(r.useState)(""),[a,s]=Object(ae.a)();return Object($.jsx)("div",{children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Z.a,{sx:{overflowY:"auto",height:"85vh",marginTop:"10px"},children:Object($.jsx)(X.a,{sx:{pt:1},children:Object($.jsx)(re.a,{onSubmit:e=>{let r=`../api/event/print?locale=${a}&start=${e.start.toISOString()}&end=${e.end.toISOString()}`;e.employee&&e.employee[0]&&(r+=`&employees=${e.employee.join(",")}`),t(r)},toolbar:Object($.jsxs)(se.a,{children:[Object($.jsx)(ne.a,{label:"Generate",icon:Object($.jsx)(Y.a,{})}),Object($.jsx)(ee.a,{sx:{marginLeft:"auto"},"aria-label":"delete",onClick:()=>{},children:Object($.jsx)(G.a,{})})]}),children:Object($.jsx)(ie.a,{children:e=>{let{formData:t,...a}=e;return Object($.jsx)(g.a,{sx:{flexGrow:1},children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:12,children:Object($.jsx)(oe.a,{source:"start",alwaysOn:!0,fullWidth:!0,validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:12,children:Object($.jsx)(oe.a,{source:"end",alwaysOn:!0,fullWidth:!0,validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:12,children:Object($.jsx)(ce.a,{source:"employee",reference:"employee",label:"Employee",children:Object($.jsx)(de.a,{optionText:"fullname",filterToQuery:e=>({fullname:{ilike:`${e}`}})})})})]})})}})})})})}),Object($.jsxs)(K.a,{item:!0,xs:8,marginTop:"10px",children:[e&&Object($.jsx)("iframe",{src:e,width:"100%",height:"100%"}),!e&&Object($.jsx)(te.a,{variant:"rounded",width:"100%",height:"100%"})]})]})})}var je=a(528),be=a(529),me=a(527),pe=a(566),he=a(280),xe=a.n(he),Oe=a(294),ve=a(1026),ge=a(900),fe=a(916),ye=a(912),_e=a(1048),we=a(1045),Se=a(1024),Ce=a(918),Te=a(209),Ee=a(1038),Pe=a(909),ke=a(1035),De=a(1034),We=a(1027),Ie=a(1001),Re=a(895),ze=a(896),Ae=a(362),Ne=a.n(Ae),Fe=a(425),Le=a(426),$e=a(420),qe=a(573),Me=a(424),Je=a(279),Ve=a(563),He=(a(724),a(75)),Ue=a.n(He),Be=a(1029),Ge=a(1046),Qe=a(1033),Ye=a(290);const Ke=function(e){const t=function(e){if(!e)return null;var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e);if(t)return.299*t.r+.587*t.g+.114*t.b>186?"#000000":"#ffffff"},Ze={JOB:"Job",HOLIDAY:"Holiday",PERMIT:"Permit",ILLNESS:"Sickness",MAKEUP:"Makeup"};var Xe=a(998),et=a(999),tt=a(1047),at=a(1e3);var rt=e=>{let{source:t}=e;return Object($.jsx)(ie.a,{children:e=>{let{formData:t,scopedFormData:a,getSource:r}=e;return Object($.jsx)($.Fragment,{children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Be.a,{source:"recurring",label:t.recurring?"Ripeti ogni":"Ripeti"})}),t.recurring&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Xe.a,{source:"interval",validate:Object(le.b)(),defaultValue:1,label:"Intervallo"})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Ge.a,{source:"frequency",style:{marginTop:"0"},validate:Object(le.b)(),label:"Frequenza",defaultValue:2,choices:[{id:3,name:"Days"},{id:2,name:"Weeks"},{id:1,name:"Months"},{id:0,name:"Years"}]})}),Object($.jsxs)(K.a,{item:!0,xs:12,children:[2===t.freq?Object($.jsx)(et.a,{fullWidth:!0,label:"Si ripete il",source:"byweekday",defaultValue:()=>t.dtstart?new Date(t.dtstart).getUTCDay()%7:null,choices:[{id:0,name:"Domenica"},{id:1,name:"Luned\xec"},{id:2,name:"Marted\xec"},{id:3,name:"Mercoled\xec"},{id:4,name:"Gioved\xec"},{id:5,name:"Venerd\xec"},{id:6,name:"Sabato"}]}):null,Object($.jsx)(tt.a,{source:"until_type",label:"Fine:",sx:{"&":{width:"100%"},"& .MuiFormControlLabel-label":{width:"100%"}},row:!1,defaultValue:0,choices:[{id:0},{id:1},{id:2}],optionText:e=>{switch(e.id){case 1:return Object($.jsxs)(K.a,{container:!0,spacing:2,alignItems:"center",children:[Object($.jsx)(K.a,{item:!0,xs:4,children:"Data:"}),Object($.jsx)(K.a,{item:!0,xs:8,children:1==t.until_type?Object($.jsx)(at.a,{fullWidth:!0,source:"until_date",validate:Object(le.b)()}):""})]});case 2:return Object($.jsxs)(K.a,{container:!0,spacing:2,alignItems:"center",children:[Object($.jsx)(K.a,{item:!0,xs:4,children:"Dopo:"}),Object($.jsx)(K.a,{item:!0,xs:8,children:2==t.until_type?Object($.jsx)(Xe.a,{fullWidth:!0,source:"until_occurrences",validate:Object(le.b)(),defaultValue:1}):""})]});default:return Object($.jsx)(K.a,{container:!0,spacing:2,alignItems:"center",children:Object($.jsx)(K.a,{item:!0,xs:12,children:"Mai:"})})}}})]})]})]})})}})};const st=e=>Object($.jsxs)(se.a,{children:[Object($.jsx)(ne.a,{label:"Save"}),Object($.jsx)(ee.a,{sx:{marginLeft:"auto"},"aria-label":"delete",onClick:()=>{e.onRemoveClick()},children:Object($.jsx)(Ue.a,{})})]}),nt=e=>{const{onRemoveClick:t,...a}=e;return Object($.jsx)(re.a,{...a,toolbar:Object($.jsx)(st,{onRemoveClick:t}),children:Object($.jsx)(ie.a,{children:e=>{let{formData:t,...a}=e;return Object($.jsxs)(g.a,{sx:{flexGrow:1},children:[Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:12,children:Object($.jsx)(Be.a,{source:"all_day",label:"Tutto il giorno"})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(oe.a,{fullWidth:!0,source:"dtstart",label:"Data inizio",validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(oe.a,{fullWidth:!0,source:"dtend",label:"Data fine",validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Ge.a,{source:"type",validate:Object(le.b)(),choices:Object.entries(Ze).map((e=>{let[t,a]=e;return{id:t,name:a}}))})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Qe.a,{source:"employee",reference:"employee",label:"Employee",children:Object($.jsx)(Ye.a,{optionText:"fullname",validate:Object(le.b)(),filterToQuery:e=>({fullname:{ilike:`${e}`}})})})}),Object($.jsx)(K.a,{item:!0,xs:4,children:"JOB"===t.type&&Object($.jsx)(Qe.a,{source:"customer",reference:"customer",label:"Customer",children:Object($.jsx)(Ye.a,{optionText:"name",validate:Object(le.b)(),filterToQuery:e=>({name:{ilike:`${e}`}})})})})]}),Object($.jsx)(rt,{source:"rrule"})]})}})})};var it=a(170),ot=a.n(it),lt=a(530),ct=a.n(lt),dt=a(532),ut=a.n(dt),jt=a(533),bt=a.n(jt),mt=a(534),pt=a.n(mt),ht=a(531),xt=a.n(ht);function Ot(){var e,t,a,s,n,i,o,l;const c=Object(Oe.a)((e=>e.breakpoints.down("md"))),d=Object(C.a)(),[u]=Object(ae.a)(),j=Object(r.useRef)(null),[b]=Object(Fe.a)(),[m]=Object(Le.a)(),[p]=Object($e.a)(),h=Object(qe.a)(),[x,O]=Object(r.useState)(new Date),[v,f]=Object(r.useState)("0"),[y,_]=Object(r.useState)({open:!1,record:void 0}),[w,S]=Object(r.useState)({open:!1,record:void 0}),[T,E]=Object(r.useState)({fcinfo:void 0,open:!1,record:void 0,event:void 0}),[P,k]=Object(r.useState)({start:null,end:null}),[D,W]=Object(r.useState)({open:!1,record:void 0,anchorEl:null}),[I,R]=Object(r.useState)([]),[z,A]=Object(r.useState)([]),{data:N,isLoading:F,error:L}=Object(Me.a)("employee",{pagination:{page:0,perPage:0}}),q=e=>{var t=e,a=t.extendedProps;delete t.extendedProps;var r={...t,...a};return r.dtstart=r.start,r.dtend=r.end,r},M=e=>{if(!N||!P.start)return;let t=N.map((e=>e.id));t=t.filter((e=>!I.includes(e)));let a={start:P.start,end:P.end,groups:I.length>0?t:null,detailed:!0};H.getTimelineData(a).then((t=>{var a;let r=null===(a=t.data)||void 0===a?void 0:a.map((e=>(e.start=new Date(e.dtstart),e.end=new Date(e.dtend),e.allDay=e.all_day,e.textColor=Ke(e.color),e.original_start_date=new Date(e.dtstart).toISOString(),e.title="JOB"==e.type?e.title:e.type,e)));A(r),e&&e()})).catch((e=>{console.error(e)}))};if(Object(r.useEffect)((()=>{M()}),[P,N,I]),F)return Object($.jsx)(Je.a,{});if(L)return Object($.jsx)("p",{children:"ERROR"});const J=e=>{let t=e&&e.event?q(e.event.toJSON()):e||w.record;t.dtstart=new Date(t.dtstart).toISOString(),t.dtend=new Date(t.dtend).toISOString(),null!==t&&void 0!==t&&t.parent?E({open:!0,record:t,fcinfo:e,event:"edit"}):m("event",{id:t.id,data:t},{onError:e=>{h(d("ess.calendar.event.error_update")),console.error(e)},onSettled:(e,t)=>{h(d("ess.calendar.event.success_update")),S({open:!1,record:null}),M((()=>{h(d("ess.calendar.event.success_create"))}))}})},V=()=>{const e=w.record||D.record;null!==e&&void 0!==e&&e.parent?E({open:!0,record:e,fcinfo:void 0,event:"delete"}):p("event",{id:e.id,previousData:e},{onError:e=>{h(d("ess.calendar.event.error_delete")),console.error(e)},onSettled:(t,a)=>{h(d("ess.calendar.event.success_delete")),W({open:!1,record:null,anchorEl:null}),(e=>{let t=z;t=t.filter((t=>t.id!=e)),A(t)})(e.id)}})},U=()=>{_({open:!1,record:{}})};return Object($.jsxs)("div",{id:"calendar-container",style:{margin:"30px 0"},children:[Object($.jsxs)(g.a,{display:"flex",children:[Object($.jsx)(g.a,{sx:{display:{xs:"none",md:"block"},order:-1,width:"17em",mr:2,alignSelf:"flex-start",height:"85vh"},children:Object($.jsx)(Z.a,{sx:{overflowY:"auto",height:"85vh",marginTop:"10px"},children:Object($.jsxs)(X.a,{sx:{pt:1},children:[Object($.jsx)(Ve.a,{showFixedNumberOfWeeks:!0,value:x,formatShortWeekday:(e,t)=>t.toLocaleDateString(e,{weekday:"narrow"}),locale:u,navigationLabel:e=>{let{date:t,label:a,locale:r,view:s}=e;return a},next2Label:null,prev2Label:null,onClickDay:e=>{let t=j.current;null===t||void 0===t||t.getApi().gotoDate(e),O(e)}}),Object($.jsx)("h4",{style:{marginBottom:"0",padding:"0 6px",marginTop:"25px"},children:"Calendars"}),Object($.jsx)("nav",{"aria-label":"main",children:Object($.jsx)(De.a,{children:N.map((e=>{const t=`checkbox-list-label-${e.id}`;return Object($.jsx)(We.a,{disablePadding:!0,children:Object($.jsxs)(Ie.a,{role:void 0,onClick:(a=e.id,()=>{const e=I.indexOf(a),t=[...I];-1===e?t.push(a):t.splice(e,1),R(t)}),dense:!0,children:[Object($.jsx)(Re.a,{style:{minWidth:"40px"},children:Object($.jsx)(ve.a,{edge:"start",checked:-1===I.indexOf(e.id),tabIndex:-1,disableRipple:!0,style:{color:e.color},inputProps:{"aria-labelledby":t}})}),Object($.jsx)(ze.a,{id:t,primary:e.fullname,secondaryTypographyProps:{fontWeight:200,fontSize:"12px"},secondary:d("ess.calendar.calendarlist.number")+": "+e.number})]})},e.id);var a}))})})]})})}),Object($.jsx)(g.a,{width:c?"auto":"calc(100% - 18em)",height:"85vh",children:Object($.jsx)(me.a,{ref:j,locale:u,height:"100%",selectable:!0,slotMinTime:"05:00:00",slotMaxTime:"22:00:00",plugins:[pe.a,je.a,be.a],headerToolbar:{left:"today title",center:"",right:"prev,next"},titleFormat:{year:"numeric",month:"long"},eventMaxStack:5,initialView:"timeGridWeek",select:e=>{_({open:!0,record:{dtstart:e.startStr,dtend:e.endStr,all_day:e.allDay||!1}})},eventContent:e=>e.timeText?Object($.jsxs)($.Fragment,{children:[e.event.title,Object($.jsx)("br",{}),Object($.jsxs)("i",{children:[e.timeText," "]})]}):Object($.jsx)($.Fragment,{children:Object($.jsx)("i",{children:e.event.title})}),eventClick:e=>{const t=e.event.toJSON();W({open:!0,anchorEl:e.el,record:q(t)})},eventChange:e=>{J(e)},editable:!0,events:z,datesSet:e=>{k({start:e.start.toISOString(),end:e.end.toISOString()}),(e.start>x||e.end<x)&&O(Ne()(e.start).add(Ne()(x).weekday(),"d").toDate())}})})]}),Object($.jsxs)(Pe.a,{open:y.open,onClose:U,children:[Object($.jsx)(ge.a,{children:"New event"}),Object($.jsx)(fe.a,{children:Object($.jsx)(nt,{...y,sanitizeEmptyValues:!0,resource:"event",onSubmit:e=>{e.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone,e.dtstamp=(new Date).toISOString(),e.dtstart=new Date(e.dtstart).toISOString(),e.dtend=new Date(e.dtend).toISOString(),b("event",{data:e},{onError:e=>{h(d("ess.calendar.event.error_create")),console.error(e)},onSettled:(e,t)=>{U(),M((()=>{h(d("ess.calendar.event.success_create"))}))}})}})})]}),Object($.jsxs)(Pe.a,{open:T.open,children:[Object($.jsx)(ge.a,{children:"Edit recurring event"}),Object($.jsx)(fe.a,{children:Object($.jsx)(ye.a,{children:Object($.jsxs)(_e.a,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"0",name:"radio-buttons-group",onChange:e=>{f(e.target.value)},children:[Object($.jsx)(we.a,{value:"0",control:Object($.jsx)(Se.a,{}),label:d("ess.calendar.event.recurring.thisev")}),Object($.jsx)(we.a,{value:"1",control:Object($.jsx)(Se.a,{}),label:d("ess.calendar.event.recurring.thisandfoll")})]})})}),Object($.jsxs)(Ce.a,{children:[Object($.jsx)(Te.a,{onClick:()=>{T.fcinfo&&T.fcinfo.revert(),E({open:!1,fcinfo:void 0,record:void 0,event:void 0})},children:"Cancel"}),Object($.jsx)(Te.a,{onClick:()=>{var e=T.record,t=v,a=e.parent,r=T.event;const s=()=>{M((()=>{h(d("ess.calendar.event.success_update")),f("0"),W({open:!1,record:null,anchorEl:null}),S({open:!1,record:null}),E({open:!1,fcinfo:void 0,record:void 0,event:void 0})}))};switch(t){case"0":delete e.id;var n=a.ex_dates;a.ex_dates=[n,e.original_start_date].filter(Boolean).join(","),delete e.original_start_date,e.recurring=!1,m("event",{id:a.id,data:a},{onError:e=>{h(d("ess.calendar.event.error")),console.error(e)},onSettled:(t,a)=>{"edit"==r?b("event",{data:e},{onError:e=>{h(d("ess.calendar.event.error")),console.error(e)},onSettled:(e,t)=>{s()}}):s()}});break;case"1":delete e.id,a.until_type=1,a.until_date=e.original_start_date,delete e.parent,delete e.original_start_date,m("event",{id:a.id,data:a},{onError:e=>{h(d("ess.calendar.event.error")),console.error(e)},onSettled:(t,a)=>{"edit"==r?b("event",{data:e},{onError:e=>{h(d("ess.calendar.event.error")),console.error(e)},onSettled:(e,t)=>{s()}}):s()}});break;case"2":e.id=a.id,delete e.parent,delete e.original_start_date,p("event",{id:e.id,previousData:a},{onError:e=>{h(d("ess.calendar.event.error")),console.error(e)},onSettled:(e,t)=>{s()}})}},children:"OK"})]})]}),Object($.jsx)(ke.a,{color:"primary","aria-label":"add",style:{right:20,position:"fixed",bottom:10},onClick:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={open:!0};e&&e.id&&(t.record=e),_(t)},children:Object($.jsx)(xe.a,{})}),Object($.jsxs)(Pe.a,{open:w.open,onClose:()=>{S({open:!1,record:null,anchorEl:null})},children:[Object($.jsx)(ge.a,{children:"Edit event"}),Object($.jsx)(fe.a,{children:Object($.jsx)(nt,{sanitizeEmptyValues:!0,record:w.record,resource:"event",onSubmit:J,onRemoveClick:V})})]}),Object($.jsx)(Ee.b,{open:D.open,anchorEl:D.anchorEl,onClose:()=>{W({open:!1,record:null,anchorEl:null})},PaperProps:{style:{width:"300px"}},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"},children:Object($.jsxs)(g.a,{sx:{m:.5},children:[Object($.jsxs)(K.a,{container:!0,justifyContent:"flex-end",children:[Object($.jsx)(ee.a,{onClick:()=>{S({open:!0,record:D.record}),W({open:!1,record:null,anchorEl:null})},children:Object($.jsx)(ct.a,{})}),Object($.jsx)(ee.a,{onClick:V,children:Object($.jsx)(Ue.a,{})}),Object($.jsx)(ee.a,{onClick:()=>{W({open:!1,record:null,anchorEl:null})},children:Object($.jsx)(ot.a,{})})]}),Object($.jsx)(K.a,{container:!0,justifyContent:"flex-start",children:Object($.jsxs)(De.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object($.jsxs)(We.a,{children:[Object($.jsx)(Re.a,{style:{minWidth:"40px"},children:Object($.jsx)(xt.a,{style:{color:null===(e=D.record)||void 0===e?void 0:e.backgroundColor}})}),Object($.jsx)(ze.a,{primary:null===(t=D.record)||void 0===t?void 0:t.employee_fullname})]}),Object($.jsxs)(We.a,{children:[Object($.jsx)(Re.a,{style:{minWidth:"40px"},children:Object($.jsx)(ut.a,{})}),Object($.jsx)(ze.a,{primary:null===(a=D.record)||void 0===a?void 0:a.title})]}),Object($.jsxs)(We.a,{children:[Object($.jsx)(Re.a,{style:{minWidth:"40px"},children:Object($.jsx)(bt.a,{})}),Object($.jsx)(ze.a,{primary:new Date(null===(s=D.record)||void 0===s?void 0:s.dtstart).toLocaleString(),secondary:new Date(null===(n=D.record)||void 0===n?void 0:n.dtend).toLocaleString()})]}),Object($.jsxs)(We.a,{style:{display:null==(null===(i=D.record)||void 0===i?void 0:i._rrule)?"none":"default"},children:[Object($.jsx)(Re.a,{style:{minWidth:"40px"},children:Object($.jsx)(pt.a,{})}),Object($.jsx)(ze.a,{primary:null===(o=D.record)||void 0===o||null===(l=o._rrule)||void 0===l?void 0:l.toText()})]})]})})]})})]})}var vt=a(1019),gt=a(1020),ft=a(1005),yt=a(1006),_t=a(1007),wt=a(1008),St=a(903),Ct=a(1009),Tt=a(207),Et=a(208),Pt=a(539),kt=a(562);a(764);const Dt=e=>{let{source:t}=e;const a=Object(Tt.a)();return Object($.jsx)("div",{style:{display:"flex"},children:Object($.jsx)("div",{style:{width:"20px",height:"20px",background:a[t],marginRight:"5px"}})})},Wt=e=>{const[t,a]=Object(r.useState)(!1),{label:s,source:n,fullWidth:i,options:o,picker:l="Chrome",validate:c}=e,{field:d,fieldState:{isTouched:u,error:j},isRequired:b}=Object(Et.a)({...e,validate:c}),m=kt[`${l}Picker`];return Object($.jsxs)("div",{style:{display:"flex"},children:[Object($.jsx)(Pt.a,{...d,fullWidth:i,source:n,onFocus:()=>a(!0),isRequired:b,label:s,error:!(!u||!j)}),t?Object($.jsxs)("div",{className:"ColorInput-popup",children:[Object($.jsx)("div",{className:"ColorInput-cover",onClick:()=>a(!1)}),Object($.jsx)(m,{...o,color:d.value,onChange:e=>{let{hex:t}=e;d.onChange(t)}})]}):null,Object($.jsx)("div",{style:{width:"20px",height:"40px",background:d.value?d.value:"#FFFFFF",border:"1px solid #bbb",marginRight:"5px",marginLeft:"-1px"}})]})};var It=a(1021);var Rt=a(1023);var zt={list:()=>Object($.jsx)(vt.a,{children:Object($.jsxs)(gt.a,{rowClick:"edit",children:[Object($.jsx)(Dt,{source:"color"}),Object($.jsx)(ft.a,{source:"number"}),Object($.jsx)(ft.a,{source:"name"}),Object($.jsx)(ft.a,{source:"surname"}),Object($.jsx)(ft.a,{source:"phone"}),Object($.jsx)(ft.a,{source:"email"}),Object($.jsx)(yt.a,{source:"weekHrs"}),Object($.jsx)(_t.a,{source:"active"}),Object($.jsx)(wt.a,{}),Object($.jsx)(St.a,{}),Object($.jsx)(Ct.a,{})]})}),create:()=>{const e=Object(C.a)();return Object($.jsx)(Rt.a,{redirect:"list",children:Object($.jsx)(re.a,{children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"number",fullWidth:!0,label:e("resources.employee.fields.number"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Be.a,{source:"active",fullWidth:!0,label:e("resources.employee.fields.active"),defaultValue:!0})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Wt,{source:"color",label:e("resources.employee.fields.color"),fullWidth:!0,validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"name",fullWidth:!0,label:e("resources.employee.fields.name"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"surname",fullWidth:!0,label:e("resources.employee.fields.surname"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"phone",fullWidth:!0,label:e("resources.employee.fields.phone")})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"email",fullWidth:!0,label:e("resources.employee.fields.email")})})]})})})},edit:()=>{const e=Object(C.a)();return Object($.jsx)(It.a,{redirect:"list",children:Object($.jsx)(re.a,{children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:3,children:Object($.jsx)(Pt.a,{disabled:!0,source:"id"})}),Object($.jsx)(K.a,{item:!0,xs:3,children:Object($.jsx)(Pt.a,{source:"number",fullWidth:!0,label:e("resources.employee.fields.number"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:3,children:Object($.jsx)(Be.a,{source:"active",fullWidth:!0,label:e("resources.employee.fields.active"),defaultValue:!0})}),Object($.jsx)(K.a,{item:!0,xs:3,children:Object($.jsx)(Wt,{source:"color",label:e("resources.employee.fields.color"),fullWidth:!0,validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"name",fullWidth:!0,label:e("resources.employee.fields.name"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"surname",fullWidth:!0,label:e("resources.employee.fields.surname"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"phone",fullWidth:!0,label:e("resources.employee.fields.phone")})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"email",fullWidth:!0,label:e("resources.employee.fields.email")})})]})})})}};var At={list:()=>Object($.jsx)(vt.a,{children:Object($.jsxs)(gt.a,{rowClick:"edit",children:[Object($.jsx)(ft.a,{source:"vat"}),Object($.jsx)(ft.a,{source:"name"}),Object($.jsx)(ft.a,{source:"phone"}),Object($.jsx)(ft.a,{source:"city"}),Object($.jsx)(ft.a,{source:"website"}),Object($.jsx)(wt.a,{}),Object($.jsx)(St.a,{}),Object($.jsx)(Ct.a,{})]})}),create:()=>{const e=Object(C.a)();return Object($.jsx)(Rt.a,{redirect:"list",children:Object($.jsx)(re.a,{children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"vat",fullWidth:!0,label:e("resources.customer.fields.vat"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"name",fullWidth:!0,label:e("resources.customer.fields.name"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"email",fullWidth:!0,label:e("resources.customer.fields.email")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"phone",fullWidth:!0,label:e("resources.customer.fields.phone")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"zipcode",fullWidth:!0,label:e("resources.customer.fields.zipcode")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"city",fullWidth:!0,label:e("resources.customer.fields.city")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"website",fullWidth:!0,label:e("resources.customer.fields.website")})})]})})})},edit:()=>{const e=Object(C.a)();return Object($.jsx)(It.a,{redirect:"list",children:Object($.jsx)(re.a,{children:Object($.jsxs)(K.a,{container:!0,spacing:2,children:[Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{disabled:!0,source:"id"})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"vat",fullWidth:!0,label:e("resources.customer.fields.vat"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:4,children:Object($.jsx)(Pt.a,{source:"name",fullWidth:!0,label:e("resources.customer.fields.name"),validate:Object(le.b)()})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"email",fullWidth:!0,label:e("resources.customer.fields.email")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"phone",fullWidth:!0,label:e("resources.customer.fields.phone")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"zipcode",fullWidth:!0,label:e("resources.customer.fields.zipcode")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"city",fullWidth:!0,label:e("resources.customer.fields.city")})}),Object($.jsx)(K.a,{item:!0,xs:6,children:Object($.jsx)(Pt.a,{source:"website",fullWidth:!0,label:e("resources.customer.fields.website")})})]})})})}},Nt=a(552),Ft=a.n(Nt),Lt=a(41);const $t=e=>{const t=Object(qe.a)(),a=Object(C.a)(),s=Object(Tt.a)(e),{icon:n=Object($.jsx)(Ft.a,{}),label:i=a("ess.users.password_update.btn_label")}=e,[o,l]=Object(r.useState)(!1),[c,d]=Object(r.useState)("");if(!s)return null;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Lt.a,{label:i,onClick:e=>{e.stopPropagation(),l(!0)},children:n}),Object($.jsxs)(Pe.a,{onClick:e=>{e.stopPropagation()},open:o,onClose:e=>{e.stopPropagation(),l(!1)},children:[Object($.jsx)(ge.a,{children:a("ess.users.password_update.btn_label")}),Object($.jsx)(fe.a,{children:Object($.jsxs)(re.a,{toolbar:Object($.jsxs)(se.a,{children:[Object($.jsx)(ne.a,{onClick:e=>{e.stopPropagation(),c&&H.updatePassword({user:s.id,password:c}).then((e=>{l(!1),t(a("ess.users.password_update.updated"))})).catch((e=>{console.error(e),t(a("ess.users.password_update.updated_error"))}))},label:"Save"}),Object($.jsx)(ee.a,{sx:{marginLeft:"auto"},"aria-label":"cancel",onClick:e=>{e.stopPropagation(),l(!1)},children:Object($.jsx)(ot.a,{})})]}),children:[Object($.jsx)(Pt.a,{source:"username",label:"Username",fullWidth:!0,defaultValue:s.username,disabled:!0}),Object($.jsx)(Pt.a,{source:"password",label:a("ess.users.password_update.field_label"),type:"password",fullWidth:!0,value:c,validate:Object(le.b)(),onChange:e=>d(e.target.value),autoFocus:!0})]})})]})]})};var qt=a(1014);var Mt={list:()=>Object($.jsx)(vt.a,{children:Object($.jsxs)(gt.a,{rowClick:"edit",children:[Object($.jsx)(ft.a,{source:"id"}),Object($.jsx)(ft.a,{source:"username"}),Object($.jsx)(ft.a,{source:"email"}),Object($.jsx)(wt.a,{}),Object($.jsx)(Ct.a,{}),Object($.jsx)($t,{})]})}),create:()=>Object($.jsx)(Rt.a,{redirect:"list",children:Object($.jsxs)(re.a,{children:[Object($.jsx)(Pt.a,{source:"username",validate:[Object(le.b)()],label:"username"}),Object($.jsx)(Pt.a,{source:"email",validate:[Object(le.b)()],label:"Email"}),Object($.jsx)(qt.a,{source:"password",label:"Password",validate:[Object(le.b)()]})]})}),edit:()=>Object($.jsx)(It.a,{redirect:"list",children:Object($.jsxs)(re.a,{children:[Object($.jsx)(Pt.a,{disabled:!0,source:"id"}),Object($.jsx)(Pt.a,{disabled:!0,source:"username"}),Object($.jsx)(Pt.a,{source:"email"})]})})};const Jt=Object(c.a)((e=>"it"===e?u:d),"en");var Vt=()=>Object($.jsxs)(i.a,{dataProvider:H,authProvider:U,theme:m,layout:M,i18nProvider:Jt,children:[Object($.jsx)(o.a,{name:"employee",...zt}),Object($.jsx)(o.a,{name:"customer",...At}),Object($.jsx)(o.a,{name:"user",...Mt}),Object($.jsxs)(l.a,{children:[Object($.jsx)(j.b,{path:"/calendar",element:Object($.jsx)(Ot,{})}),Object($.jsx)(j.b,{path:"/summary",element:Object($.jsx)(ue,{})})]})]});var Ht=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,1050)).then((t=>{let{getCLS:a,getFID:r,getFCP:s,getLCP:n,getTTFB:i}=t;a(e),r(e),s(e),n(e),i(e)}))};a(561).config();n.a.createRoot(document.getElementById("root")).render(Object($.jsx)(Vt,{})),Ht()}},[[881,1,2]]]);
//# sourceMappingURL=main.3bc60e7a.chunk.js.map